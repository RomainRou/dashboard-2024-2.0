decluttering_templates:
  template_custom_badges: #CARTE TEMPLATE BADGES PEUT ETRE SUPPRIMER OU A ADAPTER
    card:
      type: custom:mushroom-template-badge
      content: '{{ states(''[[sensor_temp]]'') | float | round(1) }}°'
      icon: mdi:thermometer
      color: |-
        {% set temp = states('[[sensor_temp]]') | float %}
        {% if temp >= 32 %}
          rgb(199, 199, 199)
        {% elif 31.62 <= temp < 32 %}
          rgb(255, 69, 58)
        {% elif 31.23 <= temp < 31.62 %}
          rgb(247, 72, 58)
        {% elif 30.85 <= temp < 31.23 %}
          rgb(240, 76, 59)
        {% elif 30.46 <= temp < 30.85 %}
          rgb(233, 79, 59)
        {% elif 30.08 <= temp < 30.46 %}
          rgb(226, 83, 60)
        {% elif 29.69 <= temp < 30.08 %}
          rgb(219, 86, 60)
        {% elif 29.31 <= temp < 29.69 %}
          rgb(211, 90, 61)
        {% elif 28.92 <= temp < 29.31 %}
          rgb(204, 93, 61)
        {% elif 28.54 <= temp < 28.92 %}
          rgb(197, 97, 62)
        {% elif 28.15 <= temp < 28.54 %}
          rgb(190, 100, 62)
        {% elif 27.77 <= temp < 28.15 %}
          rgb(183, 104, 63)
        {% elif 27.38 <= temp < 27.77 %}
          rgb(175, 107, 63)
        {% elif 27 <= temp < 27.38 %}
          rgb(168, 111, 64)
        {% elif 26.62 <= temp < 27 %}
          rgb(161, 114, 64)
        {% elif 26.23 <= temp < 26.62 %}
          rgb(154, 118, 65)
        {% elif 25.85 <= temp < 26.23 %}
          rgb(147, 121, 65)
        {% elif 25.46 <= temp < 25.85 %}
          rgb(139, 125, 66)
        {% elif 25.08 <= temp < 25.46 %}
          rgb(132, 128, 66)
        {% elif 24.69 <= temp < 25.08 %}
          rgb(125, 132, 67)
        {% elif 24.31 <= temp < 24.69 %}
          rgb(118, 135, 67)
        {% elif 23.92 <= temp < 24.31 %}
          rgb(111, 139, 68)
        {% elif 23.54 <= temp < 23.92 %}
          rgb(103, 142, 68)
        {% elif 23.15 <= temp < 23.54 %}
          rgb(96, 146, 69)
        {% elif 22.77 <= temp < 23.15 %}
          rgb(89, 149, 69)
        {% elif 22.38 <= temp < 22.77 %}
          rgb(82, 153, 70)
        {% elif 22 <= temp < 22.38 %}
          rgb(75, 156, 70)
        {% elif 21.38 <= temp < 22 %}
          rgb(68, 160, 71)
        {% elif 20.75 <= temp < 21.38 %}
          rgb(63, 160, 81)
        {% elif 20.13 <= temp < 20.75 %}
          rgb(59, 161, 92)
        {% elif 19.5 <= temp < 20.13 %}
          rgb(55, 161, 103)
        {% elif 18.88 <= temp < 19.5 %}
          rgb(51, 162, 114)
        {% elif 18.25 <= temp < 18.88 %}
          rgb(47, 162, 125)
        {% elif 17.63 <= temp < 18.25 %}
          rgb(43, 163, 135)
        {% elif 17 <= temp < 17.63 %}
          rgb(39, 163, 146)
        {% elif 16.38 <= temp < 17 %}
          rgb(35, 164, 157)
        {% elif 15.75 <= temp < 16.38 %}
          rgb(31, 165, 168)
        {% elif 15.13 <= temp < 15.75 %}
          rgb(27, 165, 179)
        {% elif 14.5 <= temp < 15.13 %}
          rgb(23, 166, 189)
        {% elif 13.88 <= temp < 14.5 %}
          rgb(19, 166, 200)
        {% elif 13.25 <= temp < 13.88 %}
          rgb(15, 167, 211)
        {% elif 12.63 <= temp < 13.25 %}
          rgb(11, 167, 222)
        {% elif 12 <= temp < 12.63 %}
          rgb(7, 168, 233)
        {% else %}
          rgb(3, 169, 244)
        {% endif %}
      entity: '[[sensor_temp]]'
      tap_action:
        action: none
      hold_action:
        action: none
      double_tap_action:
        action: none
      label: '[[label]]'
  template_pronote_card: #CARTE TEMPLATE PRONOTE POUVANT ETRE SUPPRIMER OU A ADAPTER
    card:
      type: custom:tabbed-card
      styles:
        '--mdc-typography-button-font-size': 11px
        '--mdc-theme-primary': white
        '--mdc-tab-text-label-color-default': grey
        background: rgb(54, 54, 54)
        border: solid 1px rgb(40, 40, 40)
        border-top-left-radius: 10px
        border-top-right-radius: 10px
        font-style: italic
      tabs:
        - attributes:
            isMinWidthIndicator: true
            label: 📆 Emploi du temps
          card:
            type: custom:pronote-timetable-card
            display_header: false
            display_lunch_break: true
            display_classroom: true
            display_teacher: true
            display_day_hours: true
            dim_ended_lessons: true
            max_days: null
            current_week_only: false
            enable_slider: true
            display_free_time_slots: true
            entity: sensor.pronote_[[nom_prenom]]_timetable_period
        - attributes:
            isMinWidthIndicator: true
            label: 📗Devoirs
          card:
            type: custom:pronote-homework-card
            entity: sensor.pronote_[[nom_prenom]]_homework
            display_header: false
            display_done_homework: true
            reduce_done_homework: true
            current_week_only: false
        - attributes:
            isMinWidthIndicator: true
            label: ❌ Absences et sorties
          card:
            type: custom:pronote-absences-card
            entity: sensor.pronote_[[nom_prenom]]_absences
            display_header: false
            max_absences: null
            child_name: null
        - attributes:
            isMinWidthIndicator: true
            label: 📝Retards
          card:
            type: custom:pronote-delays-card
            entity: sensor.pronote_[[nom_prenom]]_delays
            display_header: false
            max_delays: null
            child_name: null
        - attributes:
            isMinWidthIndicator: true
            label: 📝Evaluations
          card:
            type: custom:pronote-evaluations-card
            entity: sensor.pronote_[[nom_prenom]]_evaluations
            display_header: false
            display_description: true
            display_teacher: true
            display_date: true
            display_comment: true
            display_coefficient: true
            max_evaluations: null
            child_name: null
        - attributes:
            isMinWidthIndicator: true
            label: 📝punitions test
          card:
            type: custom:pronote-punishements-card
            entity: sensor.pronote_[[nom_prenom]]_punishements
            display_header: false
            display_description: true
            display_teacher: true
            display_date: true
            display_comment: true
            display_coefficient: true
            max_evaluations: null
            child_name: null
        - attributes:
            isMinWidthIndicator: true
            label: 📝informations test
          card:
            type: custom:pronote-info-surveys-card
            entity: sensor.pronote_[[nom_prenom]]_information_and_surveys
            display_header: false
            display_description: true
            display_teacher: true
            display_date: true
            display_comment: true
            display_coefficient: true
            max_evaluations: null
            child_name: null
        - attributes:
            isMinWidthIndicator: true
            label: 🗞️Informations
          card:
            type: markdown
            content: |-
              <table>
                  <tbody>
                      {% set items = state_attr('sensor.pronote_[[nom_prenom]]_information_and_surveys','information_and_surveys') %}
                      {%-for i in range(0, items | count, 1) -%}
                      <tr> 
                          <td><span>{{items[i].author}} / {{items[i].category}} :</span>
                          {{items[i].content}}</td>
                      </tr>
                      {% endfor %}
                </tbody>
              </table>
            card_mod:
              style:
                .: |
                  ha-card ha-markdown {
                    padding:0px
                  }
                  ha-card ha-markdown.no-header {
                    padding:0px
                  }
                  ha-markdown {
                      overflow-y: auto;
                      border-bottom-left-radius: 10px; 
                      border-bottom-right-radius: 10px;
                      border-top-left-radius: 10px; 
                      border-top-right-radius: 10px;
                    }
                ha-markdown$: |
                  div {
                      background-color:rgb(54, 54, 54, 0.3);
                      padding: 5px 5px;
                      color:white;
                      font-weight:normal;
                      font-size:1em;
                      border-top-left-radius: 10px; 
                      text-align: center;
                       
                  }
                  mark {
                      background: #00BD81;
                      color: #222627;
                      border-radius: 5px;
                      padding: 5px;
                      border: solid #005f41 2px;
                      font-size: 1.2em;
                      }
                  h2 {
                      background: #2471A3;
                      color: white;
                      border-radius: 5px;
                      padding: 5px;
                      border: solid #A9CCE3 2px;
                      font-size: 1em;
                      text-align: center;
                      margin-left: 10%;
                      margin-right: 10%;
                      }
                  table{
                    border-collapse: collapse;
                    font-size: 0.85em;
                    font-family: Roboto;
                    width: auto;
                    outline: 0px solid #393c3d;
                    margin-top: 0px;
                  } caption {
                      text-align: center;
                      font-weight: bold;
                      font-size: 1em;
                  } td {
                      padding: 5px 8px 5px 8px;
                      text-align: left;
                      border-bottom: 0px solid #1c2020;
                  }
                  tr {
                      border-bottom: 0px solid #1c2020;
                  }

                  tr:nth-of-type(even) {
                      background-color: rgb(54, 54, 54, 0.3);
                  }
                  tr:last-of-type {
                      border-bottom: transparent;
                  }
                  mark {
                      background: #009767;
                      color: #222627;
                      border-radius: 5px;
                      padding: 5px;
                  }
                  span {
                      background: #2471A3;
                      color: white;
                      border-radius: 5px;
                      padding: 5px;
                      border: solid #A9CCE3 2px;
                      font-size: 1em;
                      text-align: center;
                      vertical-align: center;
                      height: auto;
                      padding: 5px;
                      display: block;
                  }
                  span {
                      padding: 5px;
                  }
        - attributes:
            isMinWidthIndicator: true
            label: 🚨punissions
          card:
            type: markdown
            content: |-
              <table>
                  <tbody>
                      {% set items = state_attr('sensor.pronote_[[nom_prenom]]_punishments','punishments') %}
                      {%-for i in range(0, items | count, 1) -%}
                      <tr> 
                          <td><span>{{items[i].date}}
                          <td><span>{{items[i].nature}}<br></span>
                          <td><span>{{items[i].giver}} <br> {{items[i].reasons}}<br>
                          {{items[i].circumstances}} </span>
                          </td>
                      </tr>
                      {% endfor %}
                </tbody>
              </table>
            card_mod:
              style:
                .: |
                  ha-card ha-markdown {
                    padding:0px
                  }
                  ha-card ha-markdown.no-header {
                    padding:0px
                  }
                  ha-markdown {
                      overflow-y: auto;
                      border-bottom-left-radius: 10px; 
                      border-bottom-right-radius: 10px;
                      border-top-left-radius: 10px; 
                      border-top-right-radius: 10px;
                    }
                ha-markdown$: |
                  div {
                      background-color:rgb(54, 54, 54, 0.3);
                      padding: 5px 5px;
                      color:white;
                      font-weight:normal;
                      font-size:1em;
                      border-top-left-radius: 10px; 
                      text-align: center;
                       
                  }
                  mark {
                      background: #00BD81;
                      color: #222627;
                      border-radius: 5px;
                      padding: 5px;
                      border: solid #005f41 2px;
                      font-size: 1.2em;
                      }
                  h2 {
                      background: #2471A3;
                      color: white;
                      border-radius: 5px;
                      padding: 5px;
                      border: solid #A9CCE3 2px;
                      font-size: 1em;
                      text-align: center;
                      margin-left: 10%;
                      margin-right: 10%;
                      }
                  table{
                    border-collapse: collapse;
                    font-size: 0.85em;
                    font-family: Roboto;
                    width: auto;
                    outline: 0px solid #393c3d;
                    margin-top: 0px;
                  } caption {
                      text-align: center;
                      font-weight: bold;
                      font-size: 1em;
                  } td {
                      padding: 5px 8px 5px 8px;
                      text-align: left;
                      border-bottom: 0px solid #1c2020;
                  }
                  tr {
                      border-bottom: 0px solid #1c2020;
                  }

                  tr:nth-of-type(even) {
                      background-color: rgb(54, 54, 54, 0.3);
                  }
                  tr:last-of-type {
                      border-bottom: transparent;
                  }
                  mark {
                      background: #009767;
                      color: #222627;
                      border-radius: 5px;
                      padding: 5px;
                  }
                  span {
                      background: #2471A3;
                      color: white;
                      border-radius: 5px;
                      padding: 5px;
                      border: solid #A9CCE3 2px;
                      font-size: 1em;
                      text-align: center;
                      vertical-align: center;
                      height: auto;
                      padding: 5px;
                      display: block;
                  }
                  span {
                      padding: 5px;
                  }
        - attributes:
            isMinWidthIndicator: true
            label: 🍖Menu cantine
          card:
            type: custom:tabbed-card
            title: menu cantine
            styles:
              '--mdc-typography-button-font-size': 10px
              '--mdc-theme-primary': white
              '--mdc-tab-text-label-color-default': grey
              background: rgb(54, 54, 54)
              border: solid 1px rgb(40, 40, 40)
            tabs:
              - attributes:
                  isMinWidthIndicator: true
                  label: 🥗Entrées
                card:
                  type: markdown
                  content: >-
                    <table>
                        <tbody>
                    {% set items =
                    state_attr('sensor.pronote_[[nom_prenom]]_menus','menus') %}
                    {% for i in range(0, items | count, 1) %}
                      {% if items[i].is_lunch == True %}
                      <tr>
                      <td width='11%'>      
                      <mark>  
                      {{ items[i].date | as_datetime | as_timestamp | timestamp_custom('%d/%m') }}
                      </mark>
                      </td>
                      <td width='70%'> 
                        {% for entry in items[i].first_meal %}
                         {{ entry.name }}
                        {% endfor %}
                      </td>
                      </td>
                        {% endif %}
                    {% endfor %}
                      </tbody>
                    </table>
                  card_mod:
                    style:
                      .: |
                        ha-card ha-markdown {
                          padding:0px
                        }
                        ha-card ha-markdown.no-header {
                          padding:0px
                        }
                         ha-markdown {
                            overflow-y: auto;
                            border-top-left-radius:10px;
                            border-top-right-radius:10px;
                            border-bottom-left-radius:10px;
                          }
                      ha-markdown$: |
                        div {
                            background-color:rgb(54, 54, 54, 0.3);
                            padding: 5px 5px;
                            color:white;
                            font-weight:normal;
                            font-size:1em;
                            border-top-left-radius: 10px; 
                            text-align: center;
                        }table{
                          border-collapse: collapse;
                          font-family: Roboto;
                          width: 100%;
                          outline: 0px solid #393c3d;
                          margin-top: 0px;
                          text-align: center;
                        } caption {
                            text-align: center;
                            font-weight: bold;
                            font-size: 1em;
                        } td {
                            padding: 5px 8px 5px 8px;
                            text-align: center;
                            border-bottom: 0px solid #1c2020;
                            margin-top: 0px;
                            font-size: 0.9em;
                        }
                        tr {
                            border-bottom: 0px solid #1c2020;
                        }

                        tr:nth-of-type(even) {
                            background-color: rgb(54, 54, 54, 0.3);
                        }
                        tr:last-of-type {
                            border-bottom: transparent; 
                        }
                        mark {
                              background: transparent;
                              color: white;
                              border-radius: 5px;
                              padding: 5px;
                              border: solid grey 2px;
                              font-weight: normal;
                              font-size: 0.8em;
                              }
                        span {
                            background: transparent;
                            color: white;
                            border-radius: 5px;
                            padding: 5px;
                        }
                        tr:nth-child(n+2) > td:nth-child(2) {
                          text-align: center;
                        }
              - attributes:
                  isMinWidthIndicator: true
                  label: 🍖Plats principal
                card:
                  type: markdown
                  content: >-
                    <table>
                        <tbody>
                    {% set items =
                    state_attr('sensor.pronote_[[nom_prenom]]_menus','menus') %}

                    {% for i in range(0, items | count, 1) %}
                      {% if items[i].is_lunch == True %}
                      <tr>
                      <td width='11%'>      
                      <mark>  
                      {{ items[i].date | as_datetime | as_timestamp | timestamp_custom('%d/%m') }}
                      </mark>
                      </td>
                      <td width='70%'> 
                        {% for main in items[i].main_meal %}
                          {{ main.name }}
                        {% endfor %}
                      </td>
                        {% endif %}
                    {% endfor %}
                      </tbody>
                    </table>
                  card_mod:
                    style:
                      .: |
                        ha-card ha-markdown {
                          padding:0px
                        }
                        ha-card ha-markdown.no-header {
                          padding:0px
                        }
                         ha-markdown {
                            overflow-y: auto;
                          }
                      ha-markdown$: |
                        div {
                            background-color:rgb(54, 54, 54, 0.3);
                            padding: 5px 5px;
                            color:white;
                            font-weight:normal;
                            font-size:1em;
                            border-top-left-radius: 10px; 
                            text-align: center;
                        }
                        table{
                          border-collapse: collapse;
                          font-family: Roboto;
                          width: 100%;
                          outline: 0px solid #393c3d;
                          margin-top: 5px;
                        } caption {
                            text-align: center;
                            font-weight: bold;
                            font-size: 1em;
                        } td {
                            padding: 5px 8px 5px 8px;
                            text-align: center;
                            border-bottom: 0px solid #1c2020;
                            margin-top: 5px;
                            font-size: 0.9em;
                        }
                        tr {
                            border-bottom: 0px solid #1c2020;
                        }

                        tr:nth-of-type(even) {
                            background-color: rgb(54, 54, 54, 0.3);
                        }
                        tr:last-of-type {
                            border-bottom: transparent;          }
                        mark {
                              background: transparent;
                              color: white;
                              border-radius: 5px;
                              padding: 5px;
                              border: solid grey 2px;
                              font-size: 0.8em;
                              font-weight: normal;
                              }
                        span {
                            background: #EC4B34;
                            color: #222627;
                            border-radius: 5px;
                            padding: 5px;
                        }
                        tr:nth-child(n+2) > td:nth-child(2) {
                          text-align: center;
                        }
              - attributes:
                  isMinWidthIndicator: true
                  label: 🍟Accompagnements
                card:
                  type: markdown
                  content: >-
                    <table>
                        <tbody>
                    {% set items =
                    state_attr('sensor.pronote_[[nom_prenom]]_menus','menus') %}

                    {% for i in range(0, items | count, 1) %}
                      {% if items[i].is_lunch == True %}
                      <tr>
                      <td width='11%'>      
                      <mark>  
                      {{ items[i].date | as_datetime | as_timestamp | timestamp_custom('%d/%m') }}
                      </mark>
                      </td>
                      <td width='70%'>
                        {% if items[i].side_meal %}
                          {% for side in items[i].side_meal %}
                            {{ side.name }}
                          {% endfor %}
                        {% else %}
                          PAS_DISPO
                        {% endif %}
                      </td>
                        {% endif %}
                    {% endfor %}
                      </tbody>
                    </table>
                  card_mod:
                    style:
                      .: |
                        ha-card ha-markdown {
                          padding:0px
                        }
                        ha-card ha-markdown.no-header {
                          padding:0px
                        }
                         ha-markdown {
                            overflow-y: auto;
                          }
                      ha-markdown$: |
                        div {
                            background-color:rgb(54, 54, 54, 0.3);
                            padding: 5px 5px;
                            color:white;
                            font-weight:normal;
                            font-size:1em;
                            border-top-left-radius: 10px; 
                            text-align: center;
                        }
                        table{
                          border-collapse: collapse;
                          font-family: Roboto;
                          width: 100%;
                          outline: 0px solid #393c3d;
                          margin-top: 5px;
                        } caption {
                            text-align: center;
                            font-weight: bold;
                            font-size: 1em;
                        } td {
                            padding: 5px 8px 5px 8px;
                            text-align: center;
                            border-bottom: 0px solid #1c2020;
                            margin-top: 5px;
                            font-size: 0.9em;
                        }
                        tr {
                            border-bottom: 0px solid #1c2020;
                        }

                        tr:nth-of-type(even) {
                            background-color: rgb(54, 54, 54, 0.3);
                        }
                        tr:last-of-type {
                            border-bottom: transparent;          }
                        mark {
                              background: transparent;
                              color: white;
                              border-radius: 5px;
                              padding: 5px;
                              border: solid grey 2px;
                              font-size: 0.8em;
                              font-weight: normal;
                              }
                        span {
                            background: #EC4B34;
                            color: #222627;
                            border-radius: 5px;
                            padding: 5px;
                        }
                        tr:nth-child(n+2) > td:nth-child(2) {
                          text-align: center;
                        }
              - attributes:
                  isMinWidthIndicator: true
                  label: 🧀Fromages
                card:
                  type: markdown
                  content: >-
                    <table>
                        <tbody>
                    {% set items =
                    state_attr('sensor.pronote_[[nom_prenom]]_menus','menus') %}

                    {% for i in range(0, items | count, 1) %}
                      {% if items[i].is_lunch == True %}
                      <tr>
                      <td width='11%'>      
                      <mark>  
                      {{ items[i].date | as_datetime | as_timestamp | timestamp_custom('%d/%m') }}
                      </mark>
                      </td>
                      <td width='70%'>
                        {% for cheese in items[i].cheese %}
                          {{ cheese.name }}
                        {% endfor %}
                      </td>
                        {% endif %}
                    {% endfor %}
                      </tbody>
                    </table>
                  card_mod:
                    style:
                      .: |
                        ha-card ha-markdown {
                          padding:0px
                        }
                        ha-card ha-markdown.no-header {
                          padding:0px
                        }
                         ha-markdown {
                            overflow-y: auto;
                          }
                      ha-markdown$: |
                        div {
                            background-color:rgb(54, 54, 54, 0.3);
                            padding: 5px 5px;
                            color:white;
                            font-weight:normal;
                            font-size:1em;
                            border-top-left-radius: 10px; 
                            text-align: center;
                        }
                        table{
                          border-collapse: collapse;
                          font-family: Roboto;
                          width: 100%;
                          outline: 0px solid #393c3d;
                          margin-top: 5px;
                        } caption {
                            text-align: center;
                            font-weight: bold;
                            font-size: 1em;
                        } td {
                            padding: 5px 8px 5px 8px;
                            text-align: center;
                            border-bottom: 0px solid #1c2020;
                            margin-top: 5px;
                            font-size: 0.9em;
                        }
                        tr {
                            border-bottom: 0px solid #1c2020;
                        }

                        tr:nth-of-type(even) {
                            background-color: rgb(54, 54, 54, 0.3);
                        }
                        tr:last-of-type {
                            border-bottom: transparent;          }
                        mark {
                              background: transparent;
                              color: white;
                              border-radius: 5px;
                              padding: 5px;
                              border: solid grey 2px;
                              font-size: 0.8em;
                              font-weight: normal;
                              }
                        span {
                            background: #EC4B34;
                            color: #222627;
                            border-radius: 5px;
                            padding: 5px;
                        }
                        tr:nth-child(n+2) > td:nth-child(2) {
                          text-align: center;
                        }
              - attributes:
                  isMinWidthIndicator: true
                  label: 🍦Desserts
                card:
                  type: markdown
                  content: >-
                    <table>
                        <tbody>
                    {% set items =
                    state_attr('sensor.pronote_[[nom_prenom]]_menus','menus') %}
                    {% for i in range(0, items | count, 1) %}
                      {% if items[i].is_lunch == True %}
                      <tr>
                      <td width='11%'>      
                      <mark>  
                      {{ items[i].date | as_datetime | as_timestamp | timestamp_custom('%d/%m') }}
                      </mark>
                      </td>
                      <td width='70%'>
                        {% for dessert in items[i].dessert %}
                          {{ dessert.name }}
                        {% endfor %}
                      </td>
                        {% endif %}
                    {% endfor %}
                      </tbody>
                    </table>
                  card_mod:
                    style:
                      .: |
                        ha-card ha-markdown {
                          padding:0px
                        }
                        ha-card ha-markdown.no-header {
                          padding:0px
                        }
                         ha-markdown {
                            overflow-y: auto;
                          }
                      ha-markdown$: |
                        div {
                            background-color:rgb(54, 54, 54, 0.3);
                            padding: 5px 5px;
                            color:white;
                            font-weight:normal;
                            font-size:1em;
                            border-top-left-radius: 10px; 
                            text-align: center;
                        }
                        table{
                          border-collapse: collapse;
                          font-family: Roboto;
                          width: 100%;
                          outline: 0px solid #393c3d;
                          margin-top: 5px;
                        } caption {
                            text-align: center;
                            font-weight: bold;
                            font-size: 1em;
                        } td {
                            padding: 5px 8px 5px 8px;
                            text-align: center;
                            border-bottom: 0px solid #1c2020;
                            margin-top: 5px;
                            font-size: 0.9em;
                        }
                        tr {
                            border-bottom: 0px solid #1c2020;
                        }

                        tr:nth-of-type(even) {
                            background-color: rgb(54, 54, 54, 0.3);
                        }
                        tr:last-of-type {
                            border-bottom: transparent;          }
                        mark {
                              background: transparent;
                              color: white;
                              border-radius: 5px;
                              padding: 5px;
                              border: solid grey 2px;
                              font-size: 0.8em;
                              font-weight: normal;
                              }
                        span {
                            background: #EC4B34;
                            color: #222627;
                            border-radius: 5px;
                            padding: 5px;
                        }
                        tr:nth-child(n+2) > td:nth-child(2) {
                          text-align: center;
                        }
                        tr:nth-child(n+2) > td:nth-child(2) {
                          text-align: center;
                        }
  template_cover_chip_card: #CARTE TEMPLATE VOLET POUVANT ETRE SUPPRIMER OU A ADAPTER
    card:
      type: custom:mushroom-chips-card
      alignment: center
      chips:
        - type: template
          tap_action:
            action: none
          hold_action:
            action: none
          double_tap_action:
            action: none
          entity: '[[cover]]'
          icon: >-
            {% set position = states['[[cover]]'].attributes.current_position |
            int %} {% if position == 100 %}
              cil:shutter-0
            {% elif position >= 75 %}
              cil:shutter-1
            {% elif position >= 50 %}
              cil:shutter-2
            {% elif position >= 25 %}
              cil:shutter-3
            {% elif position >= 0 %}
              cil:shutter-4
            {% else %}
              mdi:window-shutter-closed
            {% endif %}
          card_mod:
            style: |
              ha-card{
                --chip-background: #03a9f425;
                border: none;
              }
          icon_color: '#03a9f4'
        - type: template
          tap_action:
            action: none
          hold_action:
            action: none
          double_tap_action:
            action: none
          content: |-
            {% if expand("[[cover_group]]") | length > 0 %}
              {% set all = expand("[[cover_group]]" | lower) -%} 
              {% set positions = all | map(attribute='attributes.current_position') | list -%}Fermés={{ positions | reject("!=", 0) | list | count }} 
              Partiels={{ positions | list | count - positions | reject("!=", 100) | list | count - positions | reject("!=", 0) | list | count - all | selectattr('state', 'in', ['opening','closing']) | list | count }} 
            Ouverts={{ positions | reject("!=", 100) | list | count }} 
              {% if all | selectattr('state', 'in', ['opening','closing']) | list | count > 0 -%} 
                Actifs={{ all | selectattr('state', 'in', ['opening','closing']) | list | count }}
              {% endif %}
            {% else %} {% set position =
                  states['[[cover]]'].attributes.current_position | int
                  %} {% if position >= 0 %} {{ position }}% {% else %}

                  {% endif %}
            {% endif %}
          entity: '[[cover_group]]'
          card_mod:
            style: |
              ha-card{
                border: none;
                --chip-background: none;
              }
        - type: template
          tap_action:
            action: perform-action
            perform_action: cover.open_cover
            target:
              entity_id: '[[cover]]'
            haptic: success
          hold_action:
            action: none
          double_tap_action:
            action: none
          icon: mdi:arrow-up-bold
          icon_color: |
            {% if 0 <= state_attr('[[cover]]', 'current_position') <=
            99 %}
              #03a9f4
            {% else %}
              #808080
            {% endif %}
          card_mod:
            style: |
              ha-card{
                border: none;
                --chip-background: {% if 0 <= state_attr('[[cover]]', 'current_position') <= 99 %} #03a9f425 {% else %} #80808025 {% endif %};
              }
        - type: template
          tap_action:
            action: perform-action
            perform_action: cover.stop_cover
            target:
              entity_id: '[[cover]]'
            haptic: success
          hold_action:
            action: none
          double_tap_action:
            action: none
          icon: mdi:pause
          icon_color: |
            {% if 1 <= state_attr('[[cover]]', 'current_position') <= 99 %}
              #03a9f4
            {% else %}
              #808080
            {% endif %}
          card_mod:
            style: |
              ha-card{
                border: none;
                --chip-background: {% if 1 <= state_attr('[[cover]]', 'current_position') <= 99 %} #03a9f425 {% else %} #80808025 {% endif %};
              }
        - type: template
          tap_action:
            action: perform-action
            perform_action: cover.close_cover
            target:
              entity_id: '[[cover]]'
            haptic: success
          hold_action:
            action: none
          double_tap_action:
            action: none
          icon: mdi:arrow-down-bold
          icon_color: |
            {% if 1 <= state_attr('[[cover]]', 'current_position') <=
            100 %}
              #03a9f4
            {% else %}
              #808080
            {% endif %}
          card_mod:
            style: |
              ha-card{
                border: none;
                --chip-background: {% if 1 <= state_attr('[[cover]]', 'current_position') <= 100 %} #03a9f425 {% else %} #80808025 {% endif %};
              }
  template_mini_graph_card: #CARTE TEMPLATE MINI GRAPH POUVANT ETRE SUPPRIMER OU A ADAPTER
    card:
      type: custom:button-card
      tap_action:
        action: none
      hold_action:
        action: none
      aspect_ratio: 5/2
      custom_fields:
        power_1:
          card:
            type: custom:button-card
            entity: '[[power_1]]'
            variables:
              name_power_1: '[[name_power_1]]'
            name: |
              [[[ 
                if (variables.name_power_1) {
                return variables.name_power_1;
                } else {
                return null;
                }
              ]]]
            tap_action:
              action: none
            hold_action:
              action: none
            show_icon: false
            show_state: true
            styles:
              card:
                - background: none
                - border: none
                - margin-top: '-5px'
              state:
                - color: lightgray
                - font-size: 24px
                - justify-self: start
        power_2:
          card:
            type: custom:button-card
            entity: '[[power_2]]'
            tap_action:
              action: none
            hold_action:
              action: none
            variables:
              name_power_2: '[[name_power_2]]'
            name: |
              [[[ 
                if (variables.name_power_2) {
                return variables.name_power_2;
                } else {
                return null;
                }
              ]]]
            show_icon: false
            show_state: true
            styles:
              card:
                - background: none
                - border: none
                - margin-top: '-5px'
              state:
                - color: lightgray
                - font-size: 24px
                - justify-self: start
        power_3:
          card:
            type: custom:button-card
            entity: '[[power_3]]'
            tap_action:
              action: none
            hold_action:
              action: none
            variables:
              name_power_1: '[[name_power_3]]'
            name: |
              [[[ 
                if (variables.name_power_3) {
                return variables.name_power_3;
                } else {
                return null;
                }
              ]]]
            show_icon: false
            show_state: true
            styles:
              card:
                - background: none
                - border: none
                - margin-top: '-5px'
              name:
                - color: lightgray
                - font-size: 16px
              state:
                - color: lightgray
                - font-size: 24px
                - justify-self: start
        temperature:
          card:
            type: custom:button-card
            entity: '[[temp]]'
            tap_action:
              action: none
            hold_action:
              action: none
            name: []
            show_icon: false
            show_state: true
            styles:
              card:
                - background: none
                - border: none
                - margin-top: '-5px'
              state:
                - color: lightgray
                - font-size: 24px
                - justify-self: start
        humidity:
          card:
            type: custom:button-card
            entity: '[[humidity]]'
            tap_action:
              action: none
            hold_action:
              action: none
            name: []
            show_icon: false
            show_state: true
            styles:
              card:
                - background: none
                - border: none
                - margin-top: '-5px'
              state:
                - color: lightgray
                - font-size: 24px
                - justify-self: start
        graph_2:
          card:
            type: custom:mini-graph-card
            entities:
              - '[[humidity]]'
            show:
              icon: false
              name: false
              state: false
              graph: bar
            tap_action:
              action: none
            hold_action:
              action: none
            color_thresholds:
              - value: 100
                color: '#FF453A'
              - value: 99.32
                color: '#FC463A'
              - value: 98.65
                color: '#F9473A'
              - value: 97.97
                color: '#F7483A'
              - value: 97.3
                color: '#F4493A'
              - value: 96.62
                color: '#F24B3A'
              - value: 95.95
                color: '#EF4C3B'
              - value: 95.27
                color: '#ED4D3B'
              - value: 94.59
                color: '#EA4E3B'
              - value: 93.92
                color: '#E8503B'
              - value: 93.24
                color: '#E5513B'
              - value: 92.57
                color: '#E3523B'
              - value: 91.89
                color: '#E0533C'
              - value: 91.22
                color: '#DE543C'
              - value: 90.54
                color: '#DB563C'
              - value: 89.86
                color: '#D9573C'
              - value: 89.19
                color: '#D6583C'
              - value: 88.51
                color: '#D4593C'
              - value: 87.84
                color: '#D15B3D'
              - value: 87.16
                color: '#CE5C3D'
              - value: 86.49
                color: '#CC5D3D'
              - value: 85.81
                color: '#C95E3D'
              - value: 85.14
                color: '#C7603D'
              - value: 84.46
                color: '#C4613E'
              - value: 83.78
                color: '#C2623E'
              - value: 83.11
                color: '#BF633E'
              - value: 82.43
                color: '#BD643E'
              - value: 81.76
                color: '#BA663E'
              - value: 81.08
                color: '#B8673E'
              - value: 80.41
                color: '#B5683F'
              - value: 79.73
                color: '#B3693F'
              - value: 79.05
                color: '#B06B3F'
              - value: 78.38
                color: '#AE6C3F'
              - value: 77.7
                color: '#AB6D3F'
              - value: 77.03
                color: '#A96E3F'
              - value: 76.35
                color: '#A67040'
              - value: 75.68
                color: '#A47140'
              - value: 75
                color: '#A17240'
              - value: 74.32
                color: '#9E7340'
              - value: 73.65
                color: '#9C7440'
              - value: 72.97
                color: '#997641'
              - value: 72.3
                color: '#977741'
              - value: 71.62
                color: '#947841'
              - value: 70.95
                color: '#927941'
              - value: 70.27
                color: '#8F7B41'
              - value: 69.59
                color: '#8D7C41'
              - value: 68.92
                color: '#8A7D42'
              - value: 68.24
                color: '#887E42'
              - value: 67.57
                color: '#858042'
              - value: 66.89
                color: '#838142'
              - value: 66.22
                color: '#808242'
              - value: 65.54
                color: '#7E8342'
              - value: 64.86
                color: '#7B8443'
              - value: 64.19
                color: '#798643'
              - value: 63.51
                color: '#768743'
              - value: 62.84
                color: '#748843'
              - value: 62.16
                color: '#718943'
              - value: 61.49
                color: '#6E8B44'
              - value: 60.81
                color: '#6C8C44'
              - value: 60.14
                color: '#698D44'
              - value: 59.46
                color: '#678E44'
              - value: 58.78
                color: '#649044'
              - value: 58.11
                color: '#629144'
              - value: 57.43
                color: '#5F9245'
              - value: 56.76
                color: '#5D9345'
              - value: 56.08
                color: '#5A9445'
              - value: 55.41
                color: '#589645'
              - value: 54.73
                color: '#559745'
              - value: 54.05
                color: '#539845'
              - value: 53.38
                color: '#509946'
              - value: 52.7
                color: '#4E9B46'
              - value: 52.03
                color: '#4B9C46'
              - value: 51.35
                color: '#499D46'
              - value: 50.68
                color: '#469E46'
              - value: 50
                color: '#44A047'
              - value: 47.92
                color: '#429D4E'
              - value: 45.83
                color: '#419A55'
              - value: 43.75
                color: '#40975C'
              - value: 41.67
                color: '#3F9563'
              - value: 39.58
                color: '#3E926B'
              - value: 37.5
                color: '#3D8F72'
              - value: 35.42
                color: '#3B8D79'
              - value: 33.33
                color: '#3A8A80'
              - value: 31.25
                color: '#398787'
              - value: 29.17
                color: '#38848F'
              - value: 27.08
                color: '#378296'
              - value: 25
                color: '#367F9D'
              - value: 22.92
                color: '#347CA4'
              - value: 20.83
                color: '#337AAB'
              - value: 18.75
                color: '#3277B3'
              - value: 16.67
                color: '#3174BA'
              - value: 14.58
                color: '#3071C1'
              - value: 12.5
                color: '#2F6FC8'
              - value: 10.42
                color: '#2D6CCF'
              - value: 8.33
                color: '#2C69D7'
              - value: 6.25
                color: '#2B67DE'
              - value: 4.17
                color: '#2A64E5'
              - value: 2.08
                color: '#2961EC'
              - value: 0
                color: '#285FF4'
            hours_to_show: 36
            points_per_hour: 0.5
            card_mod:
              style: |
                ha-card {
                  box-shadow: none;
                  border: none;
                  background: none;
                  width: 100%;
                }
                .name {
                  --primary-text-color: #00000000;
                }
        graph_1:
          card:
            type: custom:mini-graph-card
            entities:
              - '[[temp]]'
            show:
              icon: false
              name: false
              state: false
            tap_action:
              action: none
            hold_action:
              action: none
            color_thresholds:
              - value: 46
                color: '#FF453A'
              - value: 45.74
                color: '#FE483A'
              - value: 45.49
                color: '#FE4C3A'
              - value: 45.23
                color: '#FE4F3A'
              - value: 44.97
                color: '#FE533B'
              - value: 44.72
                color: '#FD563B'
              - value: 44.46
                color: '#FD5A3B'
              - value: 44.21
                color: '#FD5D3C'
              - value: 43.95
                color: '#FD613C'
              - value: 43.69
                color: '#FD643C'
              - value: 43.44
                color: '#FC683D'
              - value: 43.18
                color: '#FC6B3D'
              - value: 42.92
                color: '#FC6F3D'
              - value: 42.67
                color: '#FC723E'
              - value: 42.41
                color: '#FC763E'
              - value: 42.15
                color: '#FB793E'
              - value: 41.9
                color: '#FB7D3E'
              - value: 41.64
                color: '#FB803F'
              - value: 41.38
                color: '#FB843F'
              - value: 41.13
                color: '#FB873F'
              - value: 40.87
                color: '#FA8B40'
              - value: 40.62
                color: '#FA8E40'
              - value: 40.36
                color: '#FA9240'
              - value: 40.1
                color: '#FA9541'
              - value: 39.85
                color: '#FA9941'
              - value: 39.59
                color: '#F99C41'
              - value: 39.33
                color: '#F9A042'
              - value: 39.08
                color: '#F9A342'
              - value: 38.82
                color: '#F9A742'
              - value: 38.56
                color: '#F9AA42'
              - value: 38.31
                color: '#F8AE43'
              - value: 38.05
                color: '#F8B143'
              - value: 37.79
                color: '#F8B543'
              - value: 37.54
                color: '#F8B844'
              - value: 37.28
                color: '#F8BC44'
              - value: 37.03
                color: '#F7BF44'
              - value: 36.77
                color: '#F7C345'
              - value: 36.51
                color: '#F7C645'
              - value: 36.26
                color: '#F7CA45'
              - value: 36
                color: '#F7CE46'
              - value: 35.59
                color: '#F0CC46'
              - value: 35.17
                color: '#EACA46'
              - value: 34.76
                color: '#E4C946'
              - value: 34.34
                color: '#DEC746'
              - value: 33.93
                color: '#D8C646'
              - value: 33.52
                color: '#D1C446'
              - value: 33.1
                color: '#CBC246'
              - value: 32.69
                color: '#C5C146'
              - value: 32.28
                color: '#BFBF46'
              - value: 31.86
                color: '#B9BE46'
              - value: 31.45
                color: '#B3BC46'
              - value: 31.03
                color: '#ACBA46'
              - value: 30.62
                color: '#A6B946'
              - value: 30.21
                color: '#A0B746'
              - value: 29.79
                color: '#9AB646'
              - value: 29.38
                color: '#94B446'
              - value: 28.97
                color: '#8EB346'
              - value: 28.55
                color: '#87B146'
              - value: 28.14
                color: '#81AF46'
              - value: 27.72
                color: '#7BAE46'
              - value: 27.31
                color: '#75AC46'
              - value: 26.9
                color: '#6FAB46'
              - value: 26.48
                color: '#69A946'
              - value: 26.07
                color: '#62A746'
              - value: 25.66
                color: '#5CA646'
              - value: 25.24
                color: '#56A446'
              - value: 24.83
                color: '#50A346'
              - value: 24.41
                color: '#4AA146'
              - value: 24
                color: '#44A047'
              - value: 23.81
                color: '#44A047'
              - value: 23.62
                color: '#44A047'
              - value: 23.43
                color: '#44A047'
              - value: 23.24
                color: '#44A047'
              - value: 23.05
                color: '#44A047'
              - value: 22.86
                color: '#44A047'
              - value: 22.67
                color: '#44A047'
              - value: 22.48
                color: '#44A047'
              - value: 22.29
                color: '#44A047'
              - value: 22.1
                color: '#44A047'
              - value: 21.9
                color: '#44A047'
              - value: 21.71
                color: '#44A047'
              - value: 21.52
                color: '#44A047'
              - value: 21.33
                color: '#44A047'
              - value: 21.14
                color: '#44A047'
              - value: 20.95
                color: '#44A047'
              - value: 20.76
                color: '#44A047'
              - value: 20.57
                color: '#44A047'
              - value: 20.38
                color: '#44A047'
              - value: 20.19
                color: '#44A047'
              - value: 20
                color: '#44A047'
              - value: 18.77
                color: '#419B54'
              - value: 17.54
                color: '#3F9661'
              - value: 16.31
                color: '#3D916E'
              - value: 15.08
                color: '#3B8C7C'
              - value: 13.85
                color: '#398789'
              - value: 12.62
                color: '#378296'
              - value: 11.38
                color: '#347DA4'
              - value: 10.15
                color: '#3278B1'
              - value: 8.92
                color: '#3073BE'
              - value: 7.69
                color: '#2E6ECC'
              - value: 6.46
                color: '#2C69D9'
              - value: 5.23
                color: '#2A64E6'
              - value: 4
                color: '#285FF4'
            hours_to_show: 36
            points_per_hour: 0.5
            card_mod:
              style: |
                ha-card {
                  box-shadow: none;
                  border: none;
                  background: none;
                  width: 100%;
                }
      styles:
        card:
          - background: none
          - border: none
        custom_fields:
          temperature:
            - position: absolute
            - top: 15%
            - left: 3%
          humidity:
            - position: absolute
            - top: 15%
            - left: 75%
          power_1:
            - position: absolute
            - top: '-2%'
            - left: 3%
          power_2:
            - position: absolute
            - top: '-2%'
            - left: 40%
          power_3:
            - position: absolute
            - top: '-2%'
            - left: 75%
          graph_1:
            - filter: opacity(70%)
            - position: absolute
            - top: 40%
            - left: 0%
            - right: 0%
            - bottom: 0%
          graph_2:
            - filter: opacity(70%)
            - position: absolute
            - top: 40%
            - left: 0%
            - right: 0%
            - bottom: 0%
  template_card_meteo: #CARTE TEMPLATE METEO POUVANT ETRE SUPPRIMER OU A ADAPTER
    card:
      type: custom:vertical-stack-in-card
      cards:
        - type: custom:mushroom-template-card
          entity: '[[entity_ville]]'
          icon: >-
            {% set weather_states = {
                "sunny": "mdi:weather-sunny",
                "partlycloudy": "mdi:weather-partly-cloudy",
                "cloudy": "mdi:weather-cloudy",
                "mostlycloudy": "mdi:weather-cloudy",
                "clear-night": "mdi:weather-night",
                "fog": "mdi:weather-fog",
                "rainy": "mdi:weather-rainy",
                "lightning-rainy": "mdi:weather-lightning-rainy",
                "night-partly-cloudy": "mdi:weather-night-partly-cloudy",
                "hail": "mdi:weather-hail",
                "lightning": "mdi:weather-lightning",
                "pouring": "mdi:weather-pouring",
                "snowy": "mdi:weather-snowy",
                "snowy-rainy": "mdi:weather-snowy-rainy",
                "windy": "mdi:weather-windy",
                "windy-variant": "mdi:weather-windy-variant"
            } %}

            {% set weather_icon = weather_states.get(states("[[entity_ville]]"))
            %}

            {{ weather_icon if weather_icon is defined else 'mdi:weather-sunny'
            }}
          icon_color: |
            {% if is_state('[[sensor]]', 'below_horizon') %}
              #fafafa50
            {% else %}  
              #03a9f499
            {% endif %}
          primary: '[[primary]]'
          layout: horizontal
          tap_action:
            action: navigate
            navigation_path: '[[navigation]]'
          double_tap_action:
            action: none
          hold_action:
            action: none
          multiline_secondary: true
          badge_icon: ''
          badge_color: ''
          card_mod:
            style:
              mushroom-state-info$: |
                .primary {
                  position: relative;
                  top: -39px;
                  left: -138px;
                  overflow: visible !important;
                  white-space: normal !important;                 
                  text-shadow: 1px 1px 3px #000000, 1px 1px 2px #000000, 1px 1px 2px #000000, 1px 1px 2px;                 
                }
                .secondary {
                  position: relative;
                  overflow: visible !important;
                  top: -38px;
                  left: -138px;
                  text-shadow: 1px 1px 2px #000000, 1px 1px 3px #000000, 1px 1px 2px #000000, 1px 1px 2px;
                }
              mushroom-shape-icon$: |
                .shape {
                  position: relative;
                  left: -20px;
                  top: 55px;
                }
              .: |
                :host {
                  --mush-icon-size: 146px;
                }
              style: |
                mushroom-badge-icon {
                  left: 60px;
                  top: 25px;
                }
                ha-card {
                  background: none; 
                }               
        - type: custom:mushroom-chips-card
          chips:
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: '[[entity_compteur_lumieres]]'
                  above: 0
              chip:
                type: template
                entity: '[[entity_compteur_lumieres]]'
                icon: >
                  {% if
                  states['[[entity_compteur_lumieres]]'].attributes['icon'] %}

                  {{ states['[[entity_compteur_lumieres]]'].attributes['icon']
                  }}

                  {% elif
                  states['[[entity_compteur_lumieres]]'].attributes['device_class']
                  %}
                    mdi:{{ states['[[entity_compteur_lumieres]]'].attributes['device_class'] }}
                  {% else %}
                    mdi:device-unknown
                  {% endif %}
                icon_color: '#03a9f4'
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                tap_action:
                  action: none
                content: |
                  {{ states('[[entity_compteur_lumieres]]') }}
            - type: conditional
              conditions:
                - condition: numeric_state
                  entity: '[[entity_compteur_prises]]'
                  above: 0
              chip:
                type: template
                entity: '[[entity_compteur_prises]'
                icon: >
                  {% if states['[[entity_compteur_prises]]'].attributes['icon']
                  %}

                  {{ states['[[entity_compteur_prises]]'].attributes['icon'] }}

                  {% elif
                  states['[[entity_compteur_prises]]'].attributes['device_class']
                  %}
                    mdi:{{ states['[[entity_compteur_prises]]'].attributes['device_class'] }}
                  {% else %}
                    mdi:device-unknown
                  {% endif %}
                icon_color: '#03a9f4'
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                tap_action:
                  action: none
                content: |
                  {{ states('[[entity_compteur_prises]]') }}                  
          card_mod:
            style:
              .: |
                ha-card {
                  width: 46px;
                  margin-left: 87%;
                  top: -160px;
                  background: none;
                  --chip-border-width: 0;
                }
      card_mod:
        style: |
          ha-card {
            height: 178px;
            margin: auto;
            background-image: url('{% if is_state("[[entity_ville]]", "sunny") %}https://i.pinimg.com/originals/d8/a2/ee/d8a2eee27b91f50078645085e4057f3c.gif{% elif is_state("[[entity_ville]]", "snowy") %}https://i.giphy.com/media/v1.Y2lkPTc5MGI3NjExNzJ2Z2FzOTFnZWhkdTczOHg5MTU1enhweWR4b2JpemM4MGpmaWxibyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/3o6fISORwH1fcsQW0U/giphy.gif{% elif is_state("[[entity_ville]]", "snowy-rainy") %}https://www.icegif.com/wp-content/uploads/2022/01/icegif-1013.gif{% elif is_state("[[entity_ville]]", "lightning-rainy") %}https://i.giphy.com/media/v1.Y2lkPTc5MGI3NjExMWFjZmp3YWVva2pzaWhuZ3hmcHF6b3dna2FkMGpwbXh0ZWZoMzBmMiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/3o7TKrt6z6Eg9MLvl6/giphy.gif{% elif is_state("[[entity_ville]]", "lightning") %}https://media1.giphy.com/media/l0MYzA5czu7GV1Xt6/giphy.gif?cid=9b38fe919too4we4vrgbc57o3xqx0jjm9qi9w6f7gnh6h2sj&ep=v1_gifs_search&rid=giphy.gif&ct=g{% elif is_state("[[entity_ville]]", "hail") %}https://i.gifer.com/DJxO.gif{% elif is_state("[[entity_ville]]", "partlycloudy") %}https://i.gifer.com/g1vA.gif{% elif is_state("[[entity_ville]]", "cloudy") %}https://i.gifer.com/g1vA.gif{% elif is_state("[[entity_ville]]", "mostlycloudy") %}https://i.gifer.com/Lx0q.gif{% elif is_state("[[entity_ville]]", "clear-night") %}https://i.gifer.com/IrS.gif{% elif is_state("[[entity_ville]]", "fog") %}https://i.gifer.com/8AC8.gif{% elif is_state("[[entity_ville]]", "rainy") %}https://i.gifer.com/FEuz.gif{% endif %}');
            background-size: cover;
            background-position: center;
          }
  template_card_room: #CARTE TEMPLATE DES PIECES NE PAS SUPPRIMER OU A ADAPTER
    card:
      type: custom:vertical-stack-in-card
      cards:
        - type: custom:mushroom-template-card
          entity: '[[entity_1]]'
          icon: mdi:[[icon]]
          icon_color: >
            {% set entities = ['[[entity_1]]', '[[entity_2]]', '[[entity_3]]',
            '[[entity_4]]', '[[entity_5]]', '[[entity_6]]', 
                              '[[entity_7]]', '[[entity_8]]', '[[entity_9]]', '[[entity_10]]'] %}
            {% if entities | select('is_state', 'recording') | list | length > 0
            or
                  entities | select('is_state', 'on') | list | length > 0 or
                  is_state('[[entity_volet]]', 'closed') %}
              #03a9f499
            {% else %}
              #fafafa50
            {% endif %}
          primary: '[[primary]]'
          layout: horizontal
          tap_action:
            action: navigate
            navigation_path: '[[navigation]]'
          double_tap_action:
            action: none
          hold_action:
            action: none
          multiline_secondary: true
          badge_icon: ''
          badge_color: ''
          card_mod:
            style:
              mushroom-state-info$: |
                .primary {
                  position: relative;
                  top: -39px;
                  left: -138px;
                  overflow: visible !important;
                  white-space: normal !important;                 
                  text-shadow: 1px 1px 3px #000000, 1px 1px 2px #000000, 1px 1px 2px #000000, 1px 1px 2px;                 
                }
                .secondary {
                  position: relative;
                  overflow: visible !important;
                  top: -38px;
                  left: -138px;
                  text-shadow: 1px 1px 2px #000000, 1px 1px 3px #000000, 1px 1px 2px #000000, 1px 1px 2px;
                }
              mushroom-shape-icon$: |
                .shape {
                  position: relative;
                  left: -20px;
                  top: 55px;
                }
              .: |
                :host {
                  --mush-icon-size: 146px;
                }
              style: |
                mushroom-badge-icon {
                  left: 60px;
                  top: 25px;
                }
                ha-card {
                  background: none; 
                } 
        - type: custom:mushroom-chips-card
          chips:
            - type: conditional
              conditions:
                - condition: state
                  entity: '[[entity_volet]]'
                  state:
                    - open
                    - closed
              chip:
                type: template
                entity: '[[entity_volet]]'
                icon: >
                  {% set position =
                  states['[[entity_volet]]'].attributes.current_position | int
                  %} {% if position == 100 %}
                    cil:shutter-0
                  {% elif position >= 75 %}
                    cil:shutter-1
                  {% elif position >= 50 %}
                    cil:shutter-2
                  {% elif position >= 25 %}
                    cil:shutter-3
                  {% elif position >= 0 %}
                    cil:shutter-4
                  {% else %}
                    mdi:window-shutter-closed
                  {% endif %}
                icon_color: '#03a9f4'
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                tap_action:
                  action: none
          card_mod:
            style:
              .: |
                ha-card {
                  width: 46px;
                  margin-left: 70%;
                  top: -160px;
                  background: none;
                  --chip-border-width: 0;
                } 
        - type: custom:mushroom-chips-card
          chips:
            - type: conditional
              conditions:
                - condition: state
                  entity: '[[entity_1]]'
                  state:
                    - recording
                    - 'on'
              chip:
                type: template
                tap_action:
                  action: none
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                entity: '[[entity_1]]'
                icon: |
                  {% if states['[[entity_1]]'].attributes['icon'] %}
                  {{ states['[[entity_1]]'].attributes['icon'] }}
                  {% elif states['[[entity_1]]'].attributes['device_class'] %}
                    mdi:{{ states['[[entity_1]]'].attributes['device_class'] }}
                  {% else %}
                    mdi:device-unknown
                  {% endif %}
                icon_color: >
                  {% if is_state('[[entity_1]]', 'on') or is_state('[[entity_1]]',
                  'recording') %}
                   #03a9f4
                  {% endif %}
                content: '[[content_1]]'
            - type: conditional
              conditions:
                - condition: state
                  entity: '[[entity_2]]'
                  state:
                    - recording
                    - 'on'
              chip:
                type: template
                tap_action:
                  action: none
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                entity: '[[entity_2]]'
                icon: |
                  {% if states['[[entity_2]]'].attributes['icon'] %}
                  {{ states['[[entity_2]]'].attributes['icon'] }}
                  {% elif states['[[entity_2]]'].attributes['device_class'] %}
                    mdi:{{ states['[[entity_2]]'].attributes['device_class'] }}
                  {% else %}
                    mdi:device-unknown
                  {% endif %}
                icon_color: >
                  {% if is_state('[[entity_2]]', 'on') or is_state('[[entity_2]]',
                  'recording') %}
                   #03a9f4
                  {% endif %}
                content: '[[content_2]]'
            - type: conditional
              conditions:
                - condition: state
                  entity: '[[entity_3]]'
                  state:
                    - recording
                    - 'on'
              chip:
                type: template
                tap_action:
                  action: none
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                entity: '[[entity_3]]'
                icon: |
                  {% if states['[[entity_3]]'].attributes['icon'] %}
                  {{ states['[[entity_3]]'].attributes['icon'] }}
                  {% elif states['[[entity_3]]'].attributes['device_class'] %}
                    mdi:{{ states['[[entity_3]]'].attributes['device_class'] }}
                  {% else %}
                    mdi:device-unknown
                  {% endif %}
                icon_color: >
                  {% if is_state('[[entity_3]]', 'on') or is_state('[[entity_3]]',
                  'recording') %}
                   #03a9f4
                  {% endif %}
                content: '[[content_3]]'
            - type: conditional
              conditions:
                - condition: state
                  entity: '[[entity_4]]'
                  state:
                    - recording
                    - 'on'
              chip:
                type: template
                tap_action:
                  action: none
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                entity: '[[entity_4]]'
                icon: |
                  {% if states['[[entity_4]]'].attributes['icon'] %}
                  {{ states['[[entity_4]]'].attributes['icon'] }}
                  {% elif states['[[entity_4]]'].attributes['device_class'] %}
                    mdi:{{ states['[[entity_4]]'].attributes['device_class'] }}
                  {% else %}
                    mdi:device-unknown
                  {% endif %}
                icon_color: >
                  {% if is_state('[[entity_4]]', 'on') or is_state('[[entity_4]]',
                  'recording') %}
                   #03a9f4
                  {% endif %}
                content: '[[content_4]]'
            - type: conditional
              conditions:
                - condition: state
                  entity: '[[entity_5]]'
                  state:
                    - recording
                    - 'on'
              chip:
                type: template
                tap_action:
                  action: none
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                entity: '[[entity_5]]'
                icon: |
                  {% if states['[[entity_5]]'].attributes['icon'] %}
                  {{ states['[[entity_5]]'].attributes['icon'] }}
                  {% elif states['[[entity_5]]'].attributes['device_class'] %}
                    mdi:{{ states['[[entity_5]]'].attributes['device_class'] }}
                  {% else %}
                    mdi:device-unknown
                  {% endif %}
                icon_color: >
                  {% if is_state('[[entity_5]]', 'on') or is_state('[[entity_5]]',
                  'recording') %}
                   #03a9f4
                  {% endif %}
                content: '[[content_5]]'
            - type: conditional
              conditions:
                - condition: state
                  entity: '[[entity_6]]'
                  state:
                    - recording
                    - 'on'
              chip:
                type: template
                tap_action:
                  action: none
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                entity: '[[entity_6]]'
                icon: |
                  {% if states['[[entity_6]]'].attributes['icon'] %}
                  {{ states['[[entity_6]]'].attributes['icon'] }}
                  {% elif states['[[entity_6]]'].attributes['device_class'] %}
                    mdi:{{ states['[[entity_6]]'].attributes['device_class'] }}
                  {% else %}
                    mdi:device-unknown
                  {% endif %}
                icon_color: >
                  {% if is_state('[[entity_6]]', 'on') or is_state('[[entity_6]]',
                  'recording') %} 
                   #03a9f4
                  {% endif %}
                content: '[[content_6]]'
            - type: conditional
              conditions:
                - condition: state
                  entity: '[[entity_7]]'
                  state:
                    - recording
                    - 'on'
              chip:
                type: template
                tap_action:
                  action: none
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                entity: '[[entity_7]]'
                icon: |
                  {% if states['[[entity_7]]'].attributes['icon'] %}
                  {{ states['[[entity_7]]'].attributes['icon'] }}
                  {% elif states['[[entity_7]]'].attributes['device_class'] %}
                    mdi:{{ states['[[entity_7]]'].attributes['device_class'] }}
                  {% else %}
                    mdi:device-unknown
                  {% endif %}
                icon_color: >
                  {% if is_state('[[entity_7]]', 'on') or is_state('[[entity_7]]',
                  'recording') %} 
                   #03a9f4
                  {% endif %}
                content: '[[content_7]]'
            - type: conditional
              conditions:
                - condition: state
                  entity: '[[entity_8]]'
                  state:
                    - recording
                    - 'on'
              chip:
                type: template
                tap_action:
                  action: none
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                entity: '[[entity_8]]'
                icon: |
                  {% if states['[[entity_8]]'].attributes['icon'] %}
                  {{ states['[[entity_8]]'].attributes['icon'] }}
                  {% elif states['[[entity_8]]'].attributes['device_class'] %}
                    mdi:{{ states['[[entity_8]]'].attributes['device_class'] }}
                  {% else %}
                    mdi:device-unknown
                  {% endif %}
                icon_color: >
                  {% if is_state('[[entity_8]]', 'on') or is_state('[[entity_8]]',
                  'recording') %}
                   #03a9f4
                  {% endif %}
                content: '[[content_8]]'
            - type: conditional
              conditions:
                - condition: state
                  entity: '[[entity_9]]'
                  state:
                    - recording
                    - 'on'
              chip:
                type: template
                tap_action:
                  action: none
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                entity: '[[entity_9]]'
                icon: |
                  {% if states['[[entity_9]]'].attributes['icon'] %}
                  {{ states['[[entity_9]]'].attributes['icon'] }}
                  {% elif states['[[entity_9]]'].attributes['device_class'] %}
                    mdi:{{ states['[[entity_9]]'].attributes['device_class'] }}
                  {% else %}
                    mdi:device-unknown
                  {% endif %}
                icon_color: >
                  {% if is_state('[[entity_9]]', 'on') or is_state('[[entity_9]]',
                  'recording') %}
                   #03a9f4
                  {% endif %}
                content: '[[content_9]]'
            - type: conditional
              conditions:
                - condition: state
                  entity: '[[entity_10]]'
                  state:
                    - recording
                    - 'on'
              chip:
                type: template
                tap_action:
                  action: none
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                entity: '[[entity_10]]'
                icon: |
                  {% if states['[[entity_10]]'].attributes['icon'] %}
                  {{ states['[[entity_10]]'].attributes['icon'] }}
                  {% elif states['[[entity_10]]'].attributes['device_class'] %}
                    mdi:{{ states['[[entity_10]]'].attributes['device_class'] }}
                  {% else %}
                    mdi:device-unknown
                  {% endif %}
                icon_color: >
                  {% if is_state('[[entity_10]]', 'on') or is_state('[[entity_10]]',
                  'recording') %} 
                   #03a9f4
                  {% endif %}
                content: '[[content_10]]'
            - type: conditional
              conditions:
                - condition: state
                  entity: '[[entity_alarme]]'
                  state:
                    - armed_away
                    - armed_night
                    - triggered
              chip:
                type: alarm-control-panel
                entity: '[[entity_alarme]]'
                tap_action:
                  action: none
                content_info: none
          card_mod:
            style:
              .: |
                ha-card {
                  width: 66px;
                  margin-left: 70%;
                  top: -160px;
                  background: none;
                  --chip-border-width: 0;
                }
      card_mod:
        style: |
          ha-card {
            height: 178px;
            margin: auto;
            background-image: [[background-image]];
            background-size: cover;
            background-position: center;
          }

views:
  - title: Dashbord 3.0
    path: dash
    cards:
 #CARTE PRINCIPALE DU DASHBOARD   
      - type: horizontal-stack
        cards:
          - type: custom:decluttering-card #CARTE METEO POUVANT ETRE SUPPRIMER OU A ADAPTER
            template: template_card_meteo
            variables:
              - primary: Meteo/Maison
              - entity_ville: weather.VOTRE VILLE #ENTITE DONNER PAR L'INTEGRATION METEO FRANCE
              - sensor: sun.sun
              - entity_compteur_lumieres: sensor.compteur_lumieres #PEUT ETRE SUPPRIMER 
              - entity_compteur_prises: sensor.compteur_prises #PEUT ETRE SUPPRIMER
              - navigation: '#meteo'
      - type: conditional #CARTE SYSTEME POUVANT ETRE SUPPRIMER OU A ADAPTER 
        conditions: []
        card:
          type: custom:decluttering-card
          template: template_card_room
          variables:
            - background-image: >-
                url(https://e1.pxfuel.com/desktop-wallpaper/425/633/desktop-wallpaper-technician-electronic-maintenance.jpg)
            - entity_1: switch.nas 
            - content_1: NAS 
            - entity_3: update.home_assistant_operating_system_update 
            - content_3: Ha os 
            - entity_4: update.home_assistant_core_update 
            - content_4: Ha core 
            - entity_5: update.home_assistant_supervisor_update 
            - content_5: Ha supervisor
            - entity_7: update.file_editor_update
            - content_7: File editor
            - entity_8: binary_sensor.proxmox_updates_packages
            - content_8: Proxmox
            - entity_9: update.terminal_ssh_update
            - content_9: Terminal ssh
            - entity_10: update.go2rtc_update
            - content_10: Go2rtc
            - icon: home-assistant
            - primary: Systeme
            - navigation: '#systeme'
      - type: horizontal-stack
        cards:
          - type: conditional #CARTE SALON POUVANT ETRE SUPPRIMER OU A ADAPTER
            conditions: []
            card:
              type: custom:decluttering-card
              template: template_card_room
              variables:
                - background-image: url(https://i.ibb.co/NjM7Dd6/salon.png)
                - icon: sofa
                - binary_sensor_1: binary_sensor.porte_d_entree_contact
                - primary: Salon
                - entity_1: switch.salon_salle_a_manger_left
                - content_1: null
                - entity_2: media_player.samsung_7_series_65
                - content_2: null
                - entity_3: camera.interieur
                - content_3: null
                - entity_4: camera.lsc_ptz_camera
                - content_4: null
                - entity_5: switch.salon_1
                - content_5: null
                - entity_alarme: alarm_control_panel.alarmo
                - navigation: '#salon'
          - type: conditional #CARTE CUISINE POUVANT ETRE SUPPRIMER OU A ADAPTER
            conditions: []
            card:
              type: custom:decluttering-card
              template: template_card_room
              variables:
                - background-image: url(https://i.ibb.co/19NXD2Z/cuisine.png)
                - entity_1: light.cuisine_left
                - content_1: null
                - entity_2: light.cuisine_right
                - content_2: null
                - entity_3: light.cuisine_center
                - content_3: null
                - primary: Cuisine
                - icon: pot-steam
                - navigation: '#cuisine'
          - type: conditional #CARTE SALLE A MANGER POUVANT ETRE SUPPRIMER OU A ADAPTER
            conditions: []
            card:
              type: custom:decluttering-card
              template: template_card_room
              variables:
                - background-image: url(https://i.ibb.co/rmk15p2/salle-a-manger.png)
                - primary: Salle a manger
                - entity_1: switch.salon_salle_a_manger_right
                - content_1: null
                - entity_2: switch.salle_a_manger
                - content_2: null
                - entity_volet: cover.volet_salle_a_manger
                - icon: silverware-variant
                - navigation: '#salle_a_manger'
      - type: horizontal-stack 
        cards:
          - type: conditional #CARTE COULOIR POUVANT ETRE SUPPRIMER OU A ADAPTER
            conditions: []
            card:
              type: custom:decluttering-card
              template: template_card_room
              variables:
                - background-image: url(https://i.ibb.co/df4LfL3/couloir.png)
                - icon: globe-light
                - primary: Couloir
                - entity_1: light.couloir
                - content_1: null
                - navigation: '#couloir'
          - type: conditional #CARTE SALLE DE BAIN POUVANT ETRE SUPPRIMER OU A ADAPTER
            conditions: []
            card:
              type: custom:decluttering-card
              template: template_card_room
              variables:
                - background-image: url(https://i.ibb.co/F8ZqGGg/salle-de-bain-rdc.png)
                - primary: Salle de bain rdc
                - icon: shower
                - navigation: '#sdb_rdc'
          - type: conditional #CARTE CHAMBRE PARENTALE POUVANT ETRE SUPPRIMER OU A ADAPTER
            conditions: []
            card:
              type: custom:decluttering-card
              template: template_card_room
              variables:
                - background-image: url(https://i.ibb.co/1JSvK9C/chambre-parentale.png)
                - primary: Chambre parentale
                - entity_1: switch.chambre_romain
                - content_1: null
                - entity_2: switch.chambre_parentale
                - content_2: null
                - icon: bed
                - navigation: '#chambre_parentale'
      - type: horizontal-stack 
        cards:
          - type: conditional #CARTE CHAMBRE D'AMIS POUVANT ETRE SUPPRIMER OU A ADAPTER
            conditions: []
            card:
              type: custom:decluttering-card
              template: template_card_room
              variables:
                - background-image: url(https://i.ibb.co/PTCWJ0d/chambredamis.png)
                - primary: Chambre d'amis
                - entity_1: light.chambre_damis
                - content_1: null
                - icon: bed
                - navigation: '#chambre_d_amis'
          - type: conditional #CARTE CHAMBRE ROX POUVANT ETRE SUPPRIMER OU A ADAPTER
            conditions: []
            card:
              type: custom:decluttering-card
              template: template_card_room
              variables:
                - background-image: url(https://i.ibb.co/xSGC5pv/chambre-rox.png)
                - primary: Chambre rox
                - entity_1: switch.chambre_rox
                - content_1: null
                - entity_volet: cover.volet_chambre_rox
                - icon: bed
                - navigation: '#chambre_rox'
          - type: conditional #CARTE WC POUVANT ETRE SUPPRIMER OU A ADAPTER
            conditions: []
            card:
              type: custom:decluttering-card
              template: template_card_room
              variables:
                - background-image: url(https://i.ibb.co/xL035k6/wc20-1024x1018.jpg)
                - primary: Wc rdc
                - icon: paper-roll
                - entity_1: light.palier
                - content_1: null
                - navigation: '#wcrdc'
      - type: horizontal-stack
        cards:
          - type: conditional #CARTE BUANDERIE POUVANT ETRE SUPPRIMER OU A ADAPTER
            conditions: []
            card:
              type: custom:decluttering-card
              template: template_card_room
              variables:
                - background-image: url(https://i.ibb.co/1mpny4N/IMG-6548.jpg)
                - primary: Buanderie
                - icon: washing-machine
                - entity_1: switch.seche_linge
                - content_1: null
                - entity_2: switch.machine_a_laver
                - content_2: null
                - navigation: '#buanderie'
          - type: conditional #CARTE PALIER POUVANT ETRE SUPPRIMER OU A ADAPTER
            conditions: []
            card:
              type: custom:decluttering-card
              template: template_card_room
              variables:
                - background-image: url(https://i.ibb.co/v3qM0Zb/palier.jpg)
                - primary: Palier
                - icon: stairs
                - entity_1: light.palier
                - content_1: null
                - navigation: '#palier'
          - type: conditional #CARTE SALLE DE BAIN POUVANT ETRE SUPPRIMER OU A ADAPTER
            conditions: []
            card:
              type: custom:decluttering-card
              template: template_card_room
              variables:
                - background-image: url(https://i.ibb.co/MRm950r/salledebain1etage.png)
                - primary: Salle de bain etage
                - icon: shower
                - navigation: '#sdb_etage'
      - type: horizontal-stack
        cards:
          - type: conditional #CARTE WC POUVANT ETRE SUPPRIMER OU A ADAPTER
            conditions: []
            card:
              type: custom:decluttering-card
              template: template_card_room
              variables:
                - background-image: >-
                    url(https://i.ibb.co/ncbrPv6/de09dc74-wc-cosy-accessoires-deco-bleu.jpg)
                - primary: Wc etage
                - icon: paper-roll
                - entity_1: light.palier
                - content_1: null
                - navigation: '#wcetage'
          - type: conditional #CARTE CHAMBRE ETHAN POUVANT ETRE SUPPRIMER OU A ADAPTER
            conditions: []
            card:
              type: custom:decluttering-card
              template: template_card_room
              variables:
                - background-image: url(https://i.ibb.co/K6SCvHg/chambre-ethan.png)
                - primary: Chambre ethan
                - icon: bed
                - entity_1: switch.chambre_ethan
                - content_1: null
                - navigation: '#chambre_ethan'
          - type: conditional #CARTE CHAMBRE NATHAN POUVANT ETRE SUPPRIMER OU A ADAPTER
            conditions: []
            card:
              type: custom:decluttering-card
              template: template_card_room
              variables:
                - background-image: url(https://i.ibb.co/0KVhWgm/chambre-nathan.png)
                - primary: Chambre nathan
                - icon: bed
                - entity_1: switch.chambre_nathan
                - content_1: null
                - entity_2: media_player.continental_2k_android_tv_2
                - content_2: null
                - navigation: '#chambre_nathan'
      - type: horizontal-stack
        cards:
          - type: conditional #CARTE GARAGE POUVANT ETRE SUPPRIMER OU A ADAPTER
            conditions: []
            card:
              type: custom:decluttering-card
              template: template_card_room
              variables:
                - background-image: url(https://i.ibb.co/KmHC059/IMG-6596.jpg)
                - primary: Garage
                - icon: garage-variant
                - entity_1: camera.garage
                - content_1: null
                - navigation: '#garage'
          - type: conditional #CARTE EXTERIEUR POUVANT ETRE SUPPRIMER OU A ADAPTER
            conditions: []
            card:
              type: custom:decluttering-card
              template: template_card_room
              variables:
                - background-image: >-
                    url(https://img.freepik.com/photos-premium/fond-ecran-fond-bureau-bois-jardin-maison-enchantee_753921-66.jpg)
                - primary: Exterieur
                - icon: tree
                - entity_1: camera.exterieur_1
                - content_1: null
                - entity_2: camera.exterieur_2
                - content_2: null
                - entity_3: camera.exterieur_3
                - content_3: null
                - entity_4: camera.exterieur_4
                - content_4: null
                - entity_5: light.exterieur_arriere
                - content_5: null
                - navigation: '#exterieur'
#LES CARTES POP UP AVEC BUBBLE CARD                
      - type: vertical-stack
        cards:
          - type: custom:bubble-card #CARTE POP UP METEO POUVANT ETRE SUPPRIMER EN MEME TEMPS QUE LA CARTE PRINCIPALE OU A ADAPTER
            card_type: pop-up
            hash: '#meteo'
            close_on_click: false
            width_desktop: 50%
            margin: 7px
          - type: custom:mushroom-chips-card
            chips:
              - type: entity
                entity: sensor.compteur_lumieres
                tap_action:
                  action: more-info
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                icon_color: blue
              - type: entity
                entity: sensor.compteur_prises
                tap_action:
                  action: more-info
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                icon_color: blue
            alignment: center
          - type: energy-distribution
            card_mod:
              style: |
                ha-card{
                  border: none;
                  background: none;
                  }
                  
          - type: custom:decluttering-card
            template: template_cover_chip_card
            variables:
              - cover: cover.volets_maison
              - cover_group: cover.volets_maison
          - type: custom:decluttering-card
            template: template_mini_graph_card
            variables:
              - temp: sensor.average_temperature
              - humidity: sensor.average_humidity
              - power_2: sensor.total_power_maison
          - type: vertical-stack
            cards:
              - type: custom:meteofrance-weather-card
                entity: weather.VOTRE VILLE
                details: true
                forecast: true
                current: true
                rainChanceEntity: sensor.VOTRE VILLE_chance
                uvEntity: sensor.VOTRE VILLE_uv
                cloudCoverEntity: sensor.VOTRE VILLE_cloud_cover
                freezeChanceEntity: sensor.VOTRE VILLE_freeze_chance
                snowChanceEntity: sensor.VOTRE VILLE_snow_chance
                alertEntity: sensor.VOTRE DEPARTEMENT_weather_alert
                rainForecastEntity: sensor.VOTRE VILLE_next_rain
                one_hour_forecast: true
                card_mod:
                  style: |
                    ha-card{
                      border: none;
                      background: none;
                      }
              - type: custom:weather-chart-card
                entity: weather.VOTRE VILLE
                show_main: false
                show_temperature: false
                show_current_condition: false
                show_attributes: false
                show_time: true
                show_time_seconds: false
                show_day: true
                show_date: true
                show_humidity: true
                show_pressure: true
                show_wind_direction: true
                show_wind_speed: true
                show_sun: true
                show_feels_like: false
                show_dew_point: false
                show_wind_gust_speed: false
                show_visibility: false
                show_last_changed: true
                use_12hour_format: false
                icons_size: '50'
                animated_icons: true
                icon_style: style2
                forecast:
                  precipitation_type: rainfall
                  show_probability: true
                  labels_font_size: '11'
                  precip_bar_size: '52'
                  style: style1
                  show_wind_forecast: false
                  condition_icons: false
                  round_temp: false
                  type: daily
                  number_of_forecasts: ''
                  disable_animation: false
                  chart_height: '200'
                units:
                  pressure: hPa
                  speed: km/h
                time_size: '26'
                day_date_size: '10'
                current_temp_size: '40'
                locale: fr
                uv: sensor.VOTRE VILLE_uv
                card_mod:
                  style: |
                    ha-card{
                      border: none;
                      background: none;
                      }
          - initial_view: dayGridMonth
            type: calendar
            entities:
              - calendar.anniversaire
              - calendar.bus
              - calendar.q1_college_nathan
              - calendar.rdv_ethan
              - calendar.rdv_nathan
              - calendar.q2_college_nathan
              - calendar.rdv_elodie
              - calendar.rdv_famille
              - calendar.rdv_romain
              - calendar.rdv_roxane
              - calendar.vacances_romain
              - calendar.vacances_enfants
              - calendar.vacances_elodie
            theme: dashboard2024
            card_mod:
              style: |
                ha-card{
                  border: none;
                  background: none;
                  }
          - type: custom:mushroom-chips-card
            chips:
              - type: entity
                entity: sensor.calendars
                tap_action:
                  action: navigate
                  navigation_path: /calendar
                name: ajout evenement
                content_info: name
                icon_color: primary
            alignment: center
      - type: vertical-stack #CARTE POP UP SYSTEME POUVANT ETRE SUPPRIMER EN MEME TEMPS QUE LA CARTE PRINCIPALE OU A ADAPTER
        cards:
          - type: custom:bubble-card
            card_type: pop-up
            hash: '#systeme'
            margin: 7px
            width_desktop: 50%
          - type: custom:button-card
            tap_action:
              action: none
            hold_action:
              action: none
            aspect_ratio: 5/2
            custom_fields:
              consommation:
                card:
                  type: custom:button-card
                  entity: sensor.XXX.XXX.XXX.XXX_package_id_0_temperature
                  tap_action:
                    action: none
                  hold_action:
                    action: none
                  name: i5
                  show_icon: false
                  show_state: true
                  styles:
                    card:
                      - background: none
                      - border: none
                      - margin-top: '-5px'
                    name:
                      - color: lightgray
                      - font-size: 16px
                    state:
                      - color: lightgray
                      - font-size: 24px
                      - justify-self: start
              consommation2:
                card:
                  type: custom:button-card
                  entity: sensor.nas_power
                  tap_action:
                    action: none
                  hold_action:
                    action: none
                  name: []
                  show_icon: false
                  show_state: true
                  styles:
                    card:
                      - background: none
                      - border: none
                      - margin-top: '-5px'
                    state:
                      - color: lightgray
                      - font-size: 24px
                      - justify-self: start
              graph2:
                card:
                  type: custom:mini-graph-card
                  entities:
                    - sensor.XXX.XXX.XXX.XXX_package_id_0_temperature
                  show:
                    icon: false
                    name: false
                    state: false
                  tap_action:
                    action: none
                  hold_action:
                    action: none
                  color_thresholds:
                    - value: 100
                      color: '#FF453A'
                    - value: 99.32
                      color: '#FC463A'
                    - value: 98.65
                      color: '#F9473A'
                    - value: 97.97
                      color: '#F7483A'
                    - value: 97.3
                      color: '#F4493A'
                    - value: 96.62
                      color: '#F24B3A'
                    - value: 95.95
                      color: '#EF4C3B'
                    - value: 95.27
                      color: '#ED4D3B'
                    - value: 94.59
                      color: '#EA4E3B'
                    - value: 93.92
                      color: '#E8503B'
                    - value: 93.24
                      color: '#E5513B'
                    - value: 92.57
                      color: '#E3523B'
                    - value: 91.89
                      color: '#E0533C'
                    - value: 91.22
                      color: '#DE543C'
                    - value: 90.54
                      color: '#DB563C'
                    - value: 89.86
                      color: '#D9573C'
                    - value: 89.19
                      color: '#D6583C'
                    - value: 88.51
                      color: '#D4593C'
                    - value: 87.84
                      color: '#D15B3D'
                    - value: 87.16
                      color: '#CE5C3D'
                    - value: 86.49
                      color: '#CC5D3D'
                    - value: 85.81
                      color: '#C95E3D'
                    - value: 85.14
                      color: '#C7603D'
                    - value: 84.46
                      color: '#C4613E'
                    - value: 83.78
                      color: '#C2623E'
                    - value: 83.11
                      color: '#BF633E'
                    - value: 82.43
                      color: '#BD643E'
                    - value: 81.76
                      color: '#BA663E'
                    - value: 81.08
                      color: '#B8673E'
                    - value: 80.41
                      color: '#B5683F'
                    - value: 79.73
                      color: '#B3693F'
                    - value: 79.05
                      color: '#B06B3F'
                    - value: 78.38
                      color: '#AE6C3F'
                    - value: 77.7
                      color: '#AB6D3F'
                    - value: 77.03
                      color: '#A96E3F'
                    - value: 76.35
                      color: '#A67040'
                    - value: 75.68
                      color: '#A47140'
                    - value: 75
                      color: '#A17240'
                    - value: 74.32
                      color: '#9E7340'
                    - value: 73.65
                      color: '#9C7440'
                    - value: 72.97
                      color: '#997641'
                    - value: 72.3
                      color: '#977741'
                    - value: 71.62
                      color: '#947841'
                    - value: 70.95
                      color: '#927941'
                    - value: 70.27
                      color: '#8F7B41'
                    - value: 69.59
                      color: '#8D7C41'
                    - value: 68.92
                      color: '#8A7D42'
                    - value: 68.24
                      color: '#887E42'
                    - value: 67.57
                      color: '#858042'
                    - value: 66.89
                      color: '#838142'
                    - value: 66.22
                      color: '#808242'
                    - value: 65.54
                      color: '#7E8342'
                    - value: 64.86
                      color: '#7B8443'
                    - value: 64.19
                      color: '#798643'
                    - value: 63.51
                      color: '#768743'
                    - value: 62.84
                      color: '#748843'
                    - value: 62.16
                      color: '#718943'
                    - value: 61.49
                      color: '#6E8B44'
                    - value: 60.81
                      color: '#6C8C44'
                    - value: 60.14
                      color: '#698D44'
                    - value: 59.46
                      color: '#678E44'
                    - value: 58.78
                      color: '#649044'
                    - value: 58.11
                      color: '#629144'
                    - value: 57.43
                      color: '#5F9245'
                    - value: 56.76
                      color: '#5D9345'
                    - value: 56.08
                      color: '#5A9445'
                    - value: 55.41
                      color: '#589645'
                    - value: 54.73
                      color: '#559745'
                    - value: 54.05
                      color: '#539845'
                    - value: 53.38
                      color: '#509946'
                    - value: 52.7
                      color: '#4E9B46'
                    - value: 52.03
                      color: '#4B9C46'
                    - value: 51.35
                      color: '#499D46'
                    - value: 50.68
                      color: '#469E46'
                    - value: 50
                      color: '#44A047'
                    - value: 47.92
                      color: '#429D4E'
                    - value: 45.83
                      color: '#419A55'
                    - value: 43.75
                      color: '#40975C'
                    - value: 41.67
                      color: '#3F9563'
                    - value: 39.58
                      color: '#3E926B'
                    - value: 37.5
                      color: '#3D8F72'
                    - value: 35.42
                      color: '#3B8D79'
                    - value: 33.33
                      color: '#3A8A80'
                    - value: 31.25
                      color: '#398787'
                    - value: 29.17
                      color: '#38848F'
                    - value: 27.08
                      color: '#378296'
                    - value: 25
                      color: '#367F9D'
                    - value: 22.92
                      color: '#347CA4'
                    - value: 20.83
                      color: '#337AAB'
                    - value: 18.75
                      color: '#3277B3'
                    - value: 16.67
                      color: '#3174BA'
                    - value: 14.58
                      color: '#3071C1'
                    - value: 12.5
                      color: '#2F6FC8'
                    - value: 10.42
                      color: '#2D6CCF'
                    - value: 8.33
                      color: '#2C69D7'
                    - value: 6.25
                      color: '#2B67DE'
                    - value: 4.17
                      color: '#2A64E5'
                    - value: 2.08
                      color: '#2961EC'
                    - value: 0
                      color: '#285FF4'
                  hours_to_show: 36
                  points_per_hour: 0.5
                  card_mod:
                    style: |
                      ha-card {
                        box-shadow: none;
                        border: none;
                        background: none;
                        width: 100%;
                      }
                      .name {
                        --primary-text-color: #00000000;
                      } 
              graph:
                card:
                  type: custom:mini-graph-card
                  entities:
                    - sensor.nas_power
                  show:
                    icon: false
                    name: false
                    state: false
                    graph: bar
                  tap_action:
                    action: none
                  hold_action:
                    action: none
                  color_thresholds:
                    - value: 100
                      color: '#FF453A'
                    - value: 99.71
                      color: '#FE4639'
                    - value: 99.41
                      color: '#FE4838'
                    - value: 99.12
                      color: '#FE4A38'
                    - value: 98.82
                      color: '#FE4B37'
                    - value: 98.53
                      color: '#FE4D37'
                    - value: 98.24
                      color: '#FE4F36'
                    - value: 97.94
                      color: '#FE5135'
                    - value: 97.65
                      color: '#FE5235'
                    - value: 97.35
                      color: '#FE5434'
                    - value: 97.06
                      color: '#FE5634'
                    - value: 96.76
                      color: '#FE5733'
                    - value: 96.47
                      color: '#FE5933'
                    - value: 96.18
                      color: '#FE5B32'
                    - value: 95.88
                      color: '#FE5D31'
                    - value: 95.59
                      color: '#FE5E31'
                    - value: 95.29
                      color: '#FE6030'
                    - value: 95
                      color: '#FE6230'
                    - value: 94.71
                      color: '#FE632F'
                    - value: 94.41
                      color: '#FE652F'
                    - value: 94.12
                      color: '#FE672E'
                    - value: 93.82
                      color: '#FE692D'
                    - value: 93.53
                      color: '#FE6A2D'
                    - value: 93.24
                      color: '#FE6C2C'
                    - value: 92.94
                      color: '#FE6E2C'
                    - value: 92.65
                      color: '#FE6F2B'
                    - value: 92.35
                      color: '#FE712B'
                    - value: 92.06
                      color: '#FE732A'
                    - value: 91.76
                      color: '#FE7529'
                    - value: 91.47
                      color: '#FE7629'
                    - value: 91.18
                      color: '#FE7828'
                    - value: 90.88
                      color: '#FE7A28'
                    - value: 90.59
                      color: '#FE7B27'
                    - value: 90.29
                      color: '#FE7D26'
                    - value: 90
                      color: '#FE7F26'
                    - value: 89.71
                      color: '#FE8125'
                    - value: 89.41
                      color: '#FE8225'
                    - value: 89.12
                      color: '#FE8424'
                    - value: 88.82
                      color: '#FE8624'
                    - value: 88.53
                      color: '#FE8723'
                    - value: 88.24
                      color: '#FE8922'
                    - value: 87.94
                      color: '#FE8B22'
                    - value: 87.65
                      color: '#FE8D21'
                    - value: 87.35
                      color: '#FE8E21'
                    - value: 87.06
                      color: '#FE9020'
                    - value: 86.76
                      color: '#FE9220'
                    - value: 86.47
                      color: '#FE941F'
                    - value: 86.18
                      color: '#FE951E'
                    - value: 85.88
                      color: '#FE971E'
                    - value: 85.59
                      color: '#FE991D'
                    - value: 85.29
                      color: '#FE9A1D'
                    - value: 85
                      color: '#FE9C1C'
                    - value: 84.71
                      color: '#FE9E1C'
                    - value: 84.41
                      color: '#FEA01B'
                    - value: 84.12
                      color: '#FEA11A'
                    - value: 83.82
                      color: '#FEA31A'
                    - value: 83.53
                      color: '#FEA519'
                    - value: 83.24
                      color: '#FEA619'
                    - value: 82.94
                      color: '#FEA818'
                    - value: 82.65
                      color: '#FEAA17'
                    - value: 82.35
                      color: '#FEAC17'
                    - value: 82.06
                      color: '#FEAD16'
                    - value: 81.76
                      color: '#FEAF16'
                    - value: 81.47
                      color: '#FEB115'
                    - value: 81.18
                      color: '#FEB215'
                    - value: 80.88
                      color: '#FEB414'
                    - value: 80.59
                      color: '#FEB613'
                    - value: 80.29
                      color: '#FEB813'
                    - value: 80
                      color: '#FEB912'
                    - value: 79.71
                      color: '#FEBB12'
                    - value: 79.41
                      color: '#FEBD11'
                    - value: 79.12
                      color: '#FEBE11'
                    - value: 78.82
                      color: '#FEC010'
                    - value: 78.53
                      color: '#FEC20F'
                    - value: 78.24
                      color: '#FEC40F'
                    - value: 77.94
                      color: '#FEC50E'
                    - value: 77.65
                      color: '#FEC70E'
                    - value: 77.35
                      color: '#FEC90D'
                    - value: 77.06
                      color: '#FECA0D'
                    - value: 76.76
                      color: '#FECC0C'
                    - value: 76.47
                      color: '#FECE0B'
                    - value: 76.18
                      color: '#FED00B'
                    - value: 75.88
                      color: '#FED10A'
                    - value: 75.59
                      color: '#FED30A'
                    - value: 75.29
                      color: '#FED509'
                    - value: 75
                      color: '#FED709'
                    - value: 74.59
                      color: '#FAD60A'
                    - value: 74.18
                      color: '#F7D50B'
                    - value: 73.77
                      color: '#F4D40C'
                    - value: 73.36
                      color: '#F1D30D'
                    - value: 72.95
                      color: '#EED20E'
                    - value: 72.54
                      color: '#EBD10F'
                    - value: 72.13
                      color: '#E8D010'
                    - value: 71.72
                      color: '#E5CF11'
                    - value: 71.31
                      color: '#E2CE12'
                    - value: 70.9
                      color: '#DFCD13'
                    - value: 70.49
                      color: '#DCCD14'
                    - value: 70.08
                      color: '#D9CC15'
                    - value: 69.67
                      color: '#D6CB16'
                    - value: 69.26
                      color: '#D3CA17'
                    - value: 68.85
                      color: '#D0C918'
                    - value: 68.44
                      color: '#CDC819'
                    - value: 68.03
                      color: '#CAC71A'
                    - value: 67.62
                      color: '#C7C61B'
                    - value: 67.21
                      color: '#C4C51C'
                    - value: 66.8
                      color: '#C1C41D'
                    - value: 66.39
                      color: '#BDC41E'
                    - value: 65.98
                      color: '#BAC31F'
                    - value: 65.57
                      color: '#B7C220'
                    - value: 65.16
                      color: '#B4C121'
                    - value: 64.75
                      color: '#B1C022'
                    - value: 64.34
                      color: '#AEBF23'
                    - value: 63.93
                      color: '#ABBE24'
                    - value: 63.52
                      color: '#A8BD25'
                    - value: 63.11
                      color: '#A5BC26'
                    - value: 62.7
                      color: '#A2BB27'
                    - value: 62.3
                      color: '#9FBB28'
                    - value: 61.89
                      color: '#9CBA29'
                    - value: 61.48
                      color: '#99B92A'
                    - value: 61.07
                      color: '#96B82B'
                    - value: 60.66
                      color: '#93B72C'
                    - value: 60.25
                      color: '#90B62D'
                    - value: 59.84
                      color: '#8DB52E'
                    - value: 59.43
                      color: '#8AB42F'
                    - value: 59.02
                      color: '#87B330'
                    - value: 58.61
                      color: '#84B231'
                    - value: 58.2
                      color: '#80B232'
                    - value: 57.79
                      color: '#7DB133'
                    - value: 57.38
                      color: '#7AB034'
                    - value: 56.97
                      color: '#77AF35'
                    - value: 56.56
                      color: '#74AE36'
                    - value: 56.15
                      color: '#71AD37'
                    - value: 55.74
                      color: '#6EAC38'
                    - value: 55.33
                      color: '#6BAB39'
                    - value: 54.92
                      color: '#68AA3A'
                    - value: 54.51
                      color: '#65A93B'
                    - value: 54.1
                      color: '#62A93C'
                    - value: 53.69
                      color: '#5FA83D'
                    - value: 53.28
                      color: '#5CA73E'
                    - value: 52.87
                      color: '#59A63F'
                    - value: 52.46
                      color: '#56A540'
                    - value: 52.05
                      color: '#53A441'
                    - value: 51.64
                      color: '#50A342'
                    - value: 51.23
                      color: '#4DA243'
                    - value: 50.82
                      color: '#4AA144'
                    - value: 50.41
                      color: '#47A045'
                    - value: 50
                      color: '#44A047'
                    - value: 47.92
                      color: '#44A047'
                    - value: 45.83
                      color: '#44A047'
                    - value: 43.75
                      color: '#44A047'
                    - value: 41.67
                      color: '#44A047'
                    - value: 39.58
                      color: '#44A047'
                    - value: 37.5
                      color: '#44A047'
                    - value: 35.42
                      color: '#44A047'
                    - value: 33.33
                      color: '#44A047'
                    - value: 31.25
                      color: '#44A047'
                    - value: 29.17
                      color: '#44A047'
                    - value: 27.08
                      color: '#44A047'
                    - value: 25
                      color: '#44A047'
                    - value: 22.92
                      color: '#44A047'
                    - value: 20.83
                      color: '#44A047'
                    - value: 18.75
                      color: '#44A047'
                    - value: 16.67
                      color: '#44A047'
                    - value: 14.58
                      color: '#44A047'
                    - value: 12.5
                      color: '#44A047'
                    - value: 10.42
                      color: '#44A047'
                    - value: 8.33
                      color: '#44A047'
                    - value: 6.25
                      color: '#44A047'
                    - value: 4.17
                      color: '#44A047'
                    - value: 2.08
                      color: '#44A047'
                    - value: 0
                      color: '#44A047'
                  hours_to_show: 36
                  points_per_hour: 0.5
                  card_mod:
                    style: |
                      ha-card {
                        box-shadow: none;
                        border: none;
                        background: none;
                        width: 100%;
                      }
                      .name {
                        --primary-text-color: #00000000;
                      }
            styles:
              card:
                - background: none
                - border: none
              custom_fields:
                consommation:
                  - position: absolute
                  - top: '-2%'
                  - left: 3%
                consommation2:
                  - position: absolute
                  - top: '-2%'
                  - left: 85%
                graph:
                  - filter: opacity(70%)
                  - position: absolute
                  - top: 40%
                  - left: 0%
                  - right: 0%
                  - bottom: 0%
                graph2:
                  - filter: opacity(70%)
                  - position: absolute
                  - top: 40%
                  - left: 0%
                  - right: 0%
                  - bottom: 0%
          - type: custom:mushroom-entity-card
            entity: switch.nas
            layout: vertical
            card_mod:
              style: |
                ha-card {
                  background: none;
                  border: none;
                  }
          - type: entities
            entities:
              - type: custom:fold-entity-row
                head:
                  type: section
                  label: Tel
                entities:
                  - type: custom:fold-entity-row
                    head:
                      type: section
                      label: Tel romain
                    entities:
                      - type: custom:mushroom-entity-card
                        entity: device_tracker.tel_romain
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }
                      - type: custom:mushroom-entity-card
                        entity: sensor.gaming_g_series_battery_state
                        name: Mode
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }   
                      - type: custom:mushroom-entity-card
                        entity: sensor.gaming_g_series_battery_level
                        name: Etat batterie
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }  
                      - type: custom:mushroom-entity-card
                        entity: sensor.maison_distance_avec_tel_romain
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }                         
                  - type: custom:fold-entity-row
                    head:
                      type: section
                      label: Tel nathan
                    entities:
                      - type: custom:mushroom-entity-card
                        entity: device_tracker.nathan
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }
                      - type: custom:mushroom-entity-card
                        entity: sensor.tel_nathan_battery_state
                        name: Mode
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }   
                      - type: custom:mushroom-entity-card
                        entity: sensor.tel_nathan_battery_level
                        name: Etat batterie
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }  
                      - type: custom:mushroom-entity-card
                        entity: sensor.maison_distance_avec_tel_nathan
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }             
            card_mod:
              style: |
                :host {
                  --divider-color: #0000;
                }
                ha-card {
                 color: white;
                 border: none;
                 background : none ;
                }
                 .card-header {
                 font-size: 26px;
                }
          - type: entities
            entities:
              - type: custom:fold-entity-row
                head:
                  type: section
                  label: Proxmox
                entities:
                  - type: custom:fold-entity-row
                    head:
                      type: section
                      label: pve
                    entities:
                      - type: custom:mushroom-entity-card
                        entity: sensor.proxmox_containers_running
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }
                      - type: custom:mushroom-entity-card
                        entity: sensor.proxmox_virtual_machines_running
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }
                      - type: custom:mushroom-entity-card
                        entity: sensor.proxmox_last_boot
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }
                      - type: custom:mushroom-entity-card
                        entity: sensor.proxmox_total_updates
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }
                      - type: custom:mushroom-entity-card
                        entity: binary_sensor.proxmox_updates_packages
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }           
                  - type: custom:fold-entity-row
                    head:
                      type: section
                      label: Adguard
                    entities:
                      - type: custom:mushroom-entity-card
                        entity: sensor.adguard_cpu_used
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }    
                      - type: custom:mushroom-entity-card
                        entity: sensor.adguard_disk_used_percentage
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }    
                      - type: custom:mushroom-entity-card
                        entity: sensor.adguard_last_boot
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }   
                      - type: custom:mushroom-entity-card
                        entity: sensor.adguard_memory_free
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }          
                      - type: custom:mushroom-entity-card
                        entity: sensor.adguard_memory_used
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }               
                      - type: custom:mushroom-entity-card
                        entity: sensor.adguard_memory_used_percentage
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }               
                      - type: custom:mushroom-entity-card
                        entity: sensor.adguard_node
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }              
                      - type: custom:mushroom-entity-card
                        entity: binary_sensor.adguard_status
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }               
                  - type: custom:fold-entity-row
                    head:
                      type: section
                      label: Frigate
                    entities:
                      - type: custom:mushroom-entity-card
                        entity: sensor.frigate_cpu_used
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }    
                      - type: custom:mushroom-entity-card
                        entity: sensor.frigate_disk_used_percentage
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }    
                      - type: custom:mushroom-entity-card
                        entity: sensor.frigate_last_boot
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }   
                      - type: custom:mushroom-entity-card
                        entity: sensor.frigate_memory_free
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }          
                      - type: custom:mushroom-entity-card
                        entity: sensor.frigate_memory_used
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }               
                      - type: custom:mushroom-entity-card
                        entity: sensor.frigate_memory_used_percentage
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }               
                      - type: custom:mushroom-entity-card
                        entity: sensor.frigate_node
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }              
                      - type: custom:mushroom-entity-card
                        entity: binary_sensor.frigate_status
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }   
                  - type: custom:fold-entity-row
                    head:
                      type: section
                      label: Mqtt
                    entities:
                      - type: custom:mushroom-entity-card
                        entity: sensor.mqtt_cpu_used
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }    
                      - type: custom:mushroom-entity-card
                        entity: sensor.mqtt_disk_used_percentage
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }    
                      - type: custom:mushroom-entity-card
                        entity: sensor.mqtt_last_boot
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }   
                      - type: custom:mushroom-entity-card
                        entity: sensor.mqtt_memory_free
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }          
                      - type: custom:mushroom-entity-card
                        entity: sensor.mqtt_memory_used
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }               
                      - type: custom:mushroom-entity-card
                        entity: sensor.mqtt_memory_used_percentage
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }               
                      - type: custom:mushroom-entity-card
                        entity: sensor.mqtt_node
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }              
                      - type: custom:mushroom-entity-card
                        entity: binary_sensor.mqtt_status
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }      
                  - type: custom:fold-entity-row
                    head:
                      type: section
                      label: Zigbee2mqtt
                    entities:
                      - type: custom:mushroom-entity-card
                        entity: sensor.zigbee2mqtt_cpu_used
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }    
                      - type: custom:mushroom-entity-card
                        entity: sensor.zigbee2mqtt_disk_used_percentage
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }    
                      - type: custom:mushroom-entity-card
                        entity: sensor.zigbee2mqtt_last_boot
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }   
                      - type: custom:mushroom-entity-card
                        entity: sensor.zigbee2mqtt_memory_free
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }          
                      - type: custom:mushroom-entity-card
                        entity: sensor.zigbee2mqtt_memory_used
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }               
                      - type: custom:mushroom-entity-card
                        entity: sensor.zigbee2mqtt_memory_used_percentage
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }               
                      - type: custom:mushroom-entity-card
                        entity: sensor.zigbee2mqtt_node
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }              
                      - type: custom:mushroom-entity-card
                        entity: binary_sensor.zigbee2mqtt_status
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }      
                  - type: custom:fold-entity-row
                    head:
                      type: section
                      label: Mariadb
                    entities:
                      - type: custom:mushroom-entity-card
                        entity: sensor.mariadb_cpu_used
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }    
                      - type: custom:mushroom-entity-card
                        entity: sensor.mariadb_disk_used_percentage
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }    
                      - type: custom:mushroom-entity-card
                        entity: sensor.mariadb_last_boot
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }   
                      - type: custom:mushroom-entity-card
                        entity: sensor.mariadb_memory_free
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }          
                      - type: custom:mushroom-entity-card
                        entity: sensor.mariadb_memory_used
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }               
                      - type: custom:mushroom-entity-card
                        entity: sensor.mariadb_memory_used_percentage
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }               
                      - type: custom:mushroom-entity-card
                        entity: sensor.mariadb_node
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }              
                      - type: custom:mushroom-entity-card
                        entity: binary_sensor.mariadb_status
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }    
                  - type: custom:fold-entity-row
                    head:
                      type: section
                      label: Open media vault
                    entities:
                      - type: custom:mushroom-entity-card
                        entity: sensor.omv_cpu_used
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }    
                      - type: custom:mushroom-entity-card
                        entity: sensor.omv_disk_used_percentage
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }    
                      - type: custom:mushroom-entity-card
                        entity: sensor.omv_last_boot
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }   
                      - type: custom:mushroom-entity-card
                        entity: sensor.omv_memory_free
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }          
                      - type: custom:mushroom-entity-card
                        entity: sensor.omv_memory_used
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }               
                      - type: custom:mushroom-entity-card
                        entity: sensor.omv_memory_used_percentage
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }               
                      - type: custom:mushroom-entity-card
                        entity: sensor.omv_node
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }              
                      - type: custom:mushroom-entity-card
                        entity: binary_sensor.omv_status
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }   
                  - type: custom:fold-entity-row
                    head:
                      type: section
                      label: Home assistant
                    entities:
                      - type: custom:mushroom-entity-card
                        entity: sensor.start_time
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              } 
                      - type: custom:mushroom-entity-card
                        entity: sensor.homeassistant_cpu_used
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }    
                      - type: custom:mushroom-entity-card
                        entity: sensor.homeassistant_disk_used_percentage
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }    
                      - type: custom:mushroom-entity-card
                        entity: sensor.homeassistant_last_boot
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }   
                      - type: custom:mushroom-entity-card
                        entity: sensor.homeassistant_memory_free
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }          
                      - type: custom:mushroom-entity-card
                        entity: sensor.homeassistant_memory_used
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }               
                      - type: custom:mushroom-entity-card
                        entity: sensor.homeassistant_memory_used_percentage
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }               
                      - type: custom:mushroom-entity-card
                        entity: sensor.homeassistant_node
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }              
                      - type: custom:mushroom-entity-card
                        entity: binary_sensor.homeassistant_status
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }     
                  - type: custom:fold-entity-row
                    head:
                      type: section
                      label: Nginx
                    entities:
                      - type: custom:mushroom-entity-card
                        entity: sensor.nginx_cpu_used
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }    
                      - type: custom:mushroom-entity-card
                        entity: sensor.nginx_disk_used_percentage
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }    
                      - type: custom:mushroom-entity-card
                        entity: sensor.nginx_last_boot
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }   
                      - type: custom:mushroom-entity-card
                        entity: sensor.nginx_memory_free
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }          
                      - type: custom:mushroom-entity-card
                        entity: sensor.nginx_memory_used
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }               
                      - type: custom:mushroom-entity-card
                        entity: sensor.nginx_memory_used_percentage
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }               
                      - type: custom:mushroom-entity-card
                        entity: sensor.nginx_node
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }              
                      - type: custom:mushroom-entity-card
                        entity: binary_sensor.nginx_status
                        card_mod:
                          style: |
                            ha-card{
                              background: none;
                              border: none;
                              }                   
            card_mod:
              style: |
                :host {
                  --divider-color: #0000;
                }
                ha-card {
                 color: white;
                 border: none;
                 background : none ;
                }
                 .card-header {
                 font-size: 26px;
                }
          - type: map
            entities:
              - entity: device_tracker.nathan
              - entity: device_tracker.romain
            hours_to_show: 1
            theme_mode: dark
      - type: vertical-stack #CARTE POP UP SALON POUVANT ETRE SUPPRIMER EN MEME TEMPS QUE LA CARTE PRINCIPALE OU A ADAPTER
        cards:
          - type: custom:bubble-card
            card_type: pop-up
            hash: '#salon'
            margin: 7px
            width_desktop: 50%
          - type: custom:decluttering-card
            template: template_mini_graph_card
            variables:
              - temp: sensor.salon_temperature
              - humidity: sensor.salon_humidity
              - power_2: sensor.salon_1_power
          - type: custom:decluttering-card
            template: template_cover_chip_card
            variables:
              - cover: cover.volet_salon
          - type: horizontal-stack
            cards:
              - type: custom:mushroom-entity-card
                layout: vertical
                entity: switch.salon_1
                icon: mdi:power-socket-fr
                tap_action:
                  action: toggle
                card_mod:
                  style: |
                    ha-card{
                      border: none;
                      background: none;
                      }
              - type: custom:mushroom-template-card
                primary: Porte d'entrée
                secondary: |2-
                    {% if is_state('binary_sensor.porte_d_entree_contact', 'on') %}
                      Ouverte
                    {% else %}
                      Fermée
                    {% endif %}
                icon: >-
                  {% if is_state('binary_sensor.porte_d_entree_contact', 'on')
                  %}
                    mdi:door-open
                  {% else %}
                    mdi:door-closed
                  {% endif %}
                icon_color: >-
                  {% if is_state('binary_sensor.porte_d_entree_contact', 'off')
                  %}
                    green
                  {% else %}
                    red
                  {% endif %}
                layout: vertical
                entity: binary_sensor.porte_d_entree_contact
                card_mod:
                  style: |
                    ha-card{
                      border: none;
                      background: none;
                      }  
          - type: horizontal-stack
            cards:
              - type: custom:mushroom-light-card
                show_brightness_control: true
                use_light_color: false
                collapsible_controls: true
                icon: mdi:ceiling-light
                show_color_temp_control: true
                layout: vertical
                entity: switch.salon_salle_a_manger_left
                icon_color: blue
                card_mod:
                  style: |
                    ha-card{
                      border: none;
                      background: none;
                      }
              - type: custom:mushroom-media-player-card
                entity: media_player.samsung_7_series_65
                name: télé salon
                use_media_info: true
                show_volume_level: true
                layout: vertical
                card_mod:
                  style: |
                    ha-card{
                      border: none;
                      background: none;
                      }
          - type: custom:mushroom-alarm-control-panel-card
            states: []
            entity: alarm_control_panel.alarmo
            layout: vertical
            card_mod:
              style: |
                ha-card{
                  border: none;
                  background: none;
                  }
          - type: conditional
            conditions:
              - condition: state
                entity: alarm_control_panel.alarmo
                state: armed_away
            card:
              type: custom:frigate-card
              cameras:
                - camera_entity: camera.lsc_ptz_camera
                - camera_entity: camera.interieur
              card_mod:
                style: |
                  ha-card{
                    border: none;
                    background: none;
                    }
      - type: vertical-stack #CARTE POP UP CUISINE POUVANT ETRE SUPPRIMER EN MEME TEMPS QUE LA CARTE PRINCIPALE OU A ADAPTER
        cards:
          - type: custom:bubble-card
            card_type: pop-up
            hash: '#cuisine'
            margin: 7px
            width_desktop: 50%
          - type: custom:decluttering-card
            template: template_mini_graph_card
            variables:
              - temp: sensor.cuisine_temperature
              - humidity: sensor.cuisine_humidity
              - power_2: sensor.plan_de_travail_5_power
          - type: custom:decluttering-card
            template: template_cover_chip_card
            variables:
              - cover: cover.volet_cuisine
          - type: horizontal-stack
            cards:
              - type: custom:mushroom-light-card
                show_brightness_control: false
                use_light_color: false
                name: La cuisine
                collapsible_controls: false
                show_color_temp_control: false
                icon: mdi:vanity-light
                icon_color: primary
                layout: vertical
                entity: light.cuisine_left
                card_mod:
                  style: |
                    ha-card{
                      border: none;
                      background: none;
                      }
              - type: custom:mushroom-light-card
                show_brightness_control: true
                use_light_color: true
                name: Le plan de travail
                collapsible_controls: true
                show_color_temp_control: true
                layout: vertical
                entity: light.cuisine_right
                icon: mdi:vanity-light
                icon_color: primary
                card_mod:
                  style: |
                    ha-card{
                      border: none;
                      background: none;
                      }
          - type: custom:mushroom-light-card
            show_brightness_control: false
            use_light_color: false
            collapsible_controls: false
            show_color_temp_control: false
            icon: mdi:led-strip-variant
            name: 'Plan de travail '
            icon_color: primary
            layout: vertical
            entity: light.cuisine_center
            card_mod:
              style: |
                ha-card{
                  border: none;
                  background: none;
                  }
      - type: vertical-stack
        cards:
          - type: custom:bubble-card
            card_type: pop-up
            hash: '#salle_a_manger'
            margin: 7px
            width_desktop: 50%
          - type: custom:decluttering-card
            template: template_mini_graph_card
            variables:
              - temp: sensor.salon_temperature
              - humidity: sensor.salon_humidity
          - type: custom:decluttering-card
            template: template_cover_chip_card
            variables:
              - cover: cover.volet_salle_a_manger
          - type: custom:mushroom-light-card
            show_brightness_control: true
            use_light_color: true
            collapsible_controls: true
            icon: mdi:ceiling-light
            show_color_temp_control: true
            layout: vertical
            entity: switch.salon_salle_a_manger_right
            icon_color: blue
            card_mod:
              style: |
                ha-card{
                  border: none;
                  background: none;
                  }
      - type: vertical-stack #CARTE POP UP COULOIR POUVANT ETRE SUPPRIMER EN MEME TEMPS QUE LA CARTE PRINCIPALE OU A ADAPTER
        cards:
          - type: custom:bubble-card
            card_type: pop-up
            hash: '#couloir'
            margin: 7px
            width_desktop: 50%
          - type: custom:mushroom-light-card
            entity: light.couloir
            show_brightness_control: true
            use_light_color: true
            name: Le couloir
            collapsible_controls: true
            show_color_temp_control: true
            layout: vertical
            icon_color: primary
            card_mod:
              style: |
                ha-card{
                  border: none;
                  background: none;
                  }
      - type: vertical-stack #CARTE POP UP SALLE DE BAIN RDC POUVANT ETRE SUPPRIMER EN MEME TEMPS QUE LA CARTE PRINCIPALE OU A ADAPTER
        cards:
          - type: custom:bubble-card
            card_type: pop-up
            hash: '#sdb_rdc'
            margin: 7px
            width_desktop: 50%
          - type: custom:decluttering-card
            template: template_mini_graph_card
            variables:
              - temp: sensor.salle_de_bain_bas_temperature
              - humidity: sensor.salle_de_bain_bas_humidity
      - type: vertical-stack #CARTE POP UP CHAMBRE PARENTALE POUVANT ETRE SUPPRIMER EN MEME TEMPS QUE LA CARTE PRINCIPALE OU A ADAPTER
        cards:
          - type: custom:bubble-card
            card_type: pop-up
            hash: '#chambre_parentale'
            margin: 7px
            width_desktop: 50%
          - type: custom:decluttering-card
            template: template_mini_graph_card
            variables:
              - temp: sensor.chambre_parentale_temperature
              - humidity: sensor.salon_humidity
              - power_2: sensor.chambre_romain_power
          - type: custom:decluttering-card
            template: template_cover_chip_card
            variables:
              - cover: cover.volet_chambre_parentale
          - type: horizontal-stack
            cards:
              - type: custom:mushroom-light-card
                entity: switch.chambre_parentale
                name: La chambre parentale
                icon: mdi:ceiling-light
                icon_color: primary
                layout: vertical
                card_mod:
                  style: |
                    ha-card{
                      border: none;
                      background: none;
                      }
              - type: custom:mushroom-entity-card
                icon: mdi:power-socket-fr
                tap_action:
                  action: toggle
                entity: switch.chambre_romain
                layout: vertical
                card_mod:
                  style: |
                    ha-card{
                      border: none;
                      background: none;
                      }
      - type: vertical-stack #CARTE POP UP CHAMBRE D'AMIS POUVANT ETRE SUPPRIMER EN MEME TEMPS QUE LA CARTE PRINCIPALE OU A ADAPTER
        cards:
          - type: custom:bubble-card
            card_type: pop-up
            hash: '#chambre_d_amis'
            close_on_click: false
            margin: 7px
            width_desktop: 50%
          - type: custom:decluttering-card
            template: template_mini_graph_card
            variables:
              - temp: sensor.chambre_d_amis_temperature
              - humidity: sensor.chambre_d_amis_humidity
              - power_2: sensor.nas_power
          - type: custom:decluttering-card
            template: template_cover_chip_card
            variables:
              - cover: cover.volet_chambre_d_amis
          - type: custom:mushroom-light-card
            entity: light.chambre_damis
            show_brightness_control: true
            use_light_color: true
            name: La chambre d'amis
            collapsible_controls: true
            icon: mdi:ceiling-light
            show_color_temp_control: true
            layout: vertical
            icon_color: primary
            card_mod:
              style: |
                ha-card{
                  border: none;
                  background: none;
                  }
      - type: vertical-stack #CARTE POP UP CHAMBRE ROX POUVANT ETRE SUPPRIMER EN MEME TEMPS QUE LA CARTE PRINCIPALE OU A ADAPTER
        cards:
          - type: custom:bubble-card
            card_type: pop-up
            hash: '#chambre_rox'
            margin: 7px
            width_desktop: 50%
          - type: custom:decluttering-card
            template: template_mini_graph_card
            variables:
              - temp: sensor.chambre_rox_temperature
              - humidity: sensor.chambre_rox_humidity
          - type: custom:decluttering-card
            template: template_cover_chip_card
            variables:
              - cover: cover.volet_chambre_rox
          - type: custom:mushroom-light-card
            show_brightness_control: true
            use_light_color: true
            name: La chambre de rox
            collapsible_controls: true
            icon: mdi:ceiling-light
            show_color_temp_control: true
            entity: switch.chambre_rox
            icon_color: primary
            layout: vertical
            card_mod:
              style: |
                ha-card{
                  border: none;
                  background: none;
                  }
          - type: custom:decluttering-card #CARTE PRONOTE POUVANT ETRE SUPPRIMER OU A ADAPTER
            template: template_pronote_card
      - type: vertical-stack #CARTE POP UP WC RDC POUVANT ETRE SUPPRIMER EN MEME TEMPS QUE LA CARTE PRINCIPALE OU A ADAPTER
        cards:
          - type: custom:bubble-card
            card_type: pop-up
            hash: '#wcrdc'
            margin: 7px
            width_desktop: 50%
          - type: custom:decluttering-card
            template: template_mini_graph_card
            variables:
              - temp: sensor.wc_bas_temperature
              - humidity: sensor.wc_bas_humidity
      - type: vertical-stack #CARTE POP UP PALIER POUVANT ETRE SUPPRIMER EN MEME TEMPS QUE LA CARTE PRINCIPALE OU A ADAPTER
        cards:
          - type: custom:bubble-card
            card_type: pop-up
            hash: '#palier'
            margin: 7px
            width_desktop: 50%
          - type: custom:decluttering-card
            template: template_mini_graph_card
            variables:
              - temp: sensor.palier_temperature
              - humidity: sensor.palier_humidity
          - type: custom:mushroom-light-card
            entity: light.placard_etage
            show_brightness_control: true
            use_light_color: true
            name: Placard étage
            collapsible_controls: true
            show_color_temp_control: true
            layout: vertical
            card_mod:
              style: |
                ha-card{
                  border: none;
                  background: none;
                  }
      - type: vertical-stack #CARTE POP UP SALLE DE BAIN ETAGE POUVANT ETRE SUPPRIMER EN MEME TEMPS QUE LA CARTE PRINCIPALE OU A ADAPTER
        cards:
          - type: custom:bubble-card
            card_type: pop-up
            hash: '#sdb_etage'
            margin: 7px
            width_desktop: 50%
          - type: custom:decluttering-card
            template: template_mini_graph_card
            variables:
              - temp: sensor.salle_de_bain_etage_temperature
              - humidity: sensor.salle_de_bain_etage_humidity
      - type: vertical-stack #CARTE POP UP WC ETAGE POUVANT ETRE SUPPRIMER EN MEME TEMPS QUE LA CARTE PRINCIPALE OU A ADAPTER
        cards:
          - type: custom:bubble-card
            card_type: pop-up
            hash: '#wcetage'
            margin: 7px
            width_desktop: 50%
          - type: custom:decluttering-card
            template: template_mini_graph_card
            variables:
              - temp: sensor.wc_etage_temperature
              - humidity: sensor.wc_etage_humidity
      - type: vertical-stack #CARTE POP UP CHAMBRE ETHAN POUVANT ETRE SUPPRIMER EN MEME TEMPS QUE LA CARTE PRINCIPALE OU A ADAPTER
        cards:
          - type: custom:bubble-card
            card_type: pop-up
            hash: '#chambre_ethan'
            margin: 7px
            width_desktop: 50%
          - type: custom:decluttering-card
            template: template_mini_graph_card
            variables:
              - temp: sensor.chambre_ethan_temperature
              - humidity: sensor.chambre_ethan_humidity
          - type: custom:mushroom-light-card
            show_brightness_control: true
            use_light_color: true
            name: La chambre d'ethan
            collapsible_controls: true
            icon: mdi:ceiling-light
            show_color_temp_control: true
            entity: switch.chambre_ethan
            icon_color: primary
            layout: vertical
            card_mod:
              style: |
                ha-card{
                  border: none;
                  background: none;
                  }
          - type: custom:decluttering-card #CARTE PRONOTE POUVANT ETRE SUPPRIMER OU A ADAPTER
            template: template_pronote_card
      - type: vertical-stack #CARTE POP UP CHAMBRE NATHAN POUVANT ETRE SUPPRIMER EN MEME TEMPS QUE LA CARTE PRINCIPALE OU A ADAPTER
        cards:
          - type: custom:bubble-card
            card_type: pop-up
            hash: '#chambre_nathan'
            width_desktop: 50%
            margin: 7px
          - type: custom:decluttering-card
            template: template_mini_graph_card
            variables:
              - temp: sensor.chambre_nathan_temperature
              - humidity: sensor.chambre_nathan_humidity
          - type: horizontal-stack
            cards:
              - type: custom:mushroom-light-card
                entity: switch.chambre_nathan
                icon_color: primary
                layout: vertical
                card_mod:
                  style: |
                    ha-card{
                      border: none;
                      background: none;
                      }
              - type: custom:mushroom-media-player-card
                entity: media_player.continental_2k_android_tv
                use_media_info: false
                show_volume_level: true
                collapsible_controls: false
                layout: vertical
                tap_action:
                  action: none
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                media_controls:
                  - on_off
                card_mod:
                  style: |
                    ha-card{
                      border: none;
                      background: none;
                      }
          - type: custom:decluttering-card #CARTE PRONOTE POUVANT ETRE SUPPRIMER OU A ADAPTER
            template: template_pronote_card
            variables:
              - nom_prenom: NOM PRENOM
      - type: vertical-stack #CARTE POP UP GARAGE POUVANT ETRE SUPPRIMER EN MEME TEMPS QUE LA CARTE PRINCIPALE OU A ADAPTER
        cards:
          - type: custom:bubble-card
            card_type: pop-up
            hash: '#garage'
            margin: 7px
            width_desktop: 50%
          - type: conditional
            conditions:
              - condition: state
                entity: alarm_control_panel.alarmo
                state: armed_away
            card:
              type: custom:frigate-card
              cameras:
                - camera_entity: camera.garage
              card_mod:
                style: |
                  ha-card{
                    border: none;
                    background: none;
                    }
      - type: vertical-stack #CARTE POP UP EXTERIEUR POUVANT ETRE SUPPRIMER EN MEME TEMPS QUE LA CARTE PRINCIPALE OU A ADAPTER
        cards:
          - type: custom:bubble-card
            card_type: pop-up
            hash: '#exterieur'
            margin: 7px
            width_desktop: 50%
          - type: custom:decluttering-card
            template: template_mini_graph_card
            variables:
              - temp: sensor.exterieur_temperature
              - humidity: sensor.exterieur_humidity
          - type: custom:mushroom-light-card
            entity: light.exterieur_arriere
            layout: vertical
            icon_color: primary
            fill_container: true
            card_mod:
              style: |
                ha-card{
                  border: none;
                  background: none;
                }
          - type: conditional
            conditions:
              - condition: state
                entity: alarm_control_panel.alarmo
                state: armed_away
            card:
              type: custom:frigate-card
              cameras:
                - camera_entity: camera.exterieur_1
                - camera_entity: camera.exterieur_2
                - camera_entity: camera.exterieur_3
                - camera_entity: camera.exterieur_4
              card_mod:
                style: |
                  ha-card{
                    border: none;
                    background: none;
                    }
      - type: vertical-stack #CARTE POP UP BUANDERIE POUVANT ETRE SUPPRIMER EN MEME TEMPS QUE LA CARTE PRINCIPALE OU A ADAPTER
        cards:
          - type: custom:bubble-card
            card_type: pop-up
            hash: '#buanderie'
            margin: 7px
            width_desktop: 50%
          - type: custom:decluttering-card
            template: template_mini_graph_card
            variables:
              - temp: sensor.buanderie_temperature
              - humidity: sensor.buanderie_humidity
              - power_1: sensor.machine_a_laver_power
              - power_3: sensor.seche_linge_power
          - type: horizontal-stack
            cards:
              - type: custom:mushroom-entity-card
                layout: vertical
                entity: switch.machine_a_laver
                icon: mdi:power-socket-fr
                tap_action:
                  action: more-info
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                card_mod:
                  style: |
                    ha-card{
                      border: none;
                      background: none;
                      }
              - type: custom:mushroom-entity-card
                layout: vertical
                entity: switch.seche_linge
                icon: mdi:power-socket-fr
                tap_action:
                  action: more-info
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                card_mod:
                  style: |
                    ha-card{
                      border: none;
                      background: none;
                      }
    badges: #BADGE DE HAUT DE PAGE POUVANT ETRE SUPPRIMER OU A ADAPTER
      - type: custom:decluttering-card
        template: template_custom_badges
        variables:
          - label: Rox
          - sensor_temp: sensor.chambre_rox_temperature
      - type: custom:decluttering-card
        template: template_custom_badges
        variables:
          - label: Nathan
          - sensor_temp: sensor.chambre_nathan_temperature
      - type: custom:decluttering-card
        template: template_custom_badges
        variables:
          - label: Ethan
          - sensor_temp: sensor.chambre_ethan_temperature
      - type: custom:decluttering-card
        template: template_custom_badges
        variables:
          - label: Parentale
          - sensor_temp: sensor.chambre_parentale_temperature
      - type: custom:decluttering-card
        template: template_custom_badges
        variables:
          - label: Amis
          - sensor_temp: sensor.chambre_d_amis_temperature
      - type: custom:decluttering-card
        template: template_custom_badges
        variables:
          - label: Rdc
          - sensor_temp: sensor.average_temperature_rdc
      - type: custom:decluttering-card
        template: template_custom_badges
        variables:
          - label: Etage
          - sensor_temp: sensor.average_temperature_etage
